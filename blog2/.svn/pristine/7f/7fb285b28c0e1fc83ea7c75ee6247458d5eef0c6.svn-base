mysql 隐 式 转换 idint namevarchar descidvarchar descid id a 什么 是 隐 式 转换 在 mysql 查询 中 当 查询 条件 左右 两侧 的 类型 不 匹配 就会 发生 隐 式 转换 常见 的 比如 varchar 转 化为 int 如下 面的 查询 实际 运行 的 时候 会把 上面 的 sql 语句 转 化为 nameassignedint 隐 式 转换 可能 引发 的 问题 缺点 如果 隐 式 转换 在 索引 列 那么 该 索引 失效 效率 大大 降低 示 列 分析 第一 行 sql 没有 走 索引 因为 查询 条件 左右 两边 的 数据类型 不 匹配 descid 发 生了 隐 式 转换 使 用了 cast 函数 进行 转换 一旦 对 索引 字段 使用 函数 操作 mysql 将 放弃 使用 索引 但是 当 对 主键 使用 上述 操作 时 是 都会 走 索引 查询 的 这是 为什么 呢 因为 int 类型 的 数字 只有 能 转 化为 是 唯一 确定 的 所以 虽然 需要 隐 式 转换 但不 影响 使用 索引 常见 的 隐 式 转换 两个 参数 至少有 一个是 null 时 比较 的 结果 也是 null 例外 是 使用 ltgt 对 两个 null 做 比较 时会 返回 这两种 情况 都不 需 要做 类型 转换 两个 参数 都是 字符 串会 按照 字符串 来 比较 不做 类型 转换 两个 参数 都是 整数 按照 整数 来 比较 不做 类型 转换 十六进制 的 值 和 非 数字 做 比较 时 会被 当做 二进制 串 有 一个 参数 是 timestamp 或 datetime 并且 另外 一个 参数 是 常量 常量 会被 转 换为 timestamp 有 一个 参数 是 decimal 类型 如果 另外 一个 参数 是 decimal 或者 整数 会将 整数 转 换为 decimal 后 进行 比较 如果 另外 一个 参数 是 浮点数 则 会把 decimal 转 换为 浮点数 进行 比较 所有 其他 情况下 两个 参数 都 会被 转 换为 浮点数 再 进行 比较 隐 式 转换 的 坑 其实 我 预期 效果 应该是 第一条 但是 第二条 也 显示出 来了 我们 在 updatedelete 处理 的 时候 可能会 发现 自己 不小 心有 多 删 一条 或者 多 修改 一条 可以 检查一下 是否 是 上述 的 原因 总结 写完 sql 记得 explain 看一下 执行计划 是否 走 索引 查询 条件 两边 的 类型 要 一致 发生 类型 转化 可能会 造成 误操作 如何 看懂 参考 文章 为 