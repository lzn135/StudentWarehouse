java 基础 高频 面试题 2021年 最新版 微 信 搜索 程序员 囧 辉 关注 这个 坚持 分享 技术 干货 的 程序员 前言 网上 的 java 基础 面试题 文章 有 非常 多 但是 大部分 都 比较 老了 很多 题目 早已 不是 当前 的 热门 题目 没有必要 在 这些 题目 上 花 太多 时间 很多 答案 放 现在 已经 不 准确 可能会 误导 新人 因此 我 花了 几天 时间 整 理了 一些 时下 高频 的 java 基础 题目 并 反复 斟酌 给出 符合 当前 版本 的 解析 我 的 最新 文章 全网 最 硬核 redis 大厂 面试题 解析 年 最新版 面试 系列 我 自己 前前后后 加起来 总共 应该 参 加了 不下 四五 十次 的 面试 拿 到过 几乎 所有 一线 大厂 的 offer 阿里 字节 美 团 快手 拼 多多 等等 每次 面试 后 我 都 会将 面试 的 题目 进行 记录 并 整 理成 自己 的 题库 最近 我 将 这些 题目 整理出来 并按 大厂 的 标准 给出 自己 的 解析 希望 在这 金 三 银 四 的 季节 里 能 助你 一臂之力 面试 文章 持续 更新 中 内容 链接 地址 面试 经验 分享 天 从 小厂 到 入 职 阿里 两年 java 开发 工作经验 面试 总结 年 java 经验 阿里 网易 拼 多多 面试 总结 心得体会 年 java 经验 字节 美 团 快手 核心 部门 面试 总结 真 题 解析 复习 个月 拿下 美 团 offer 我 都 做了 些 啥 如何 准备好 一场 大厂 面试 简历 如何写 一份 让 hr 眼前一亮 的 简历 附 模板 offer 选择 跳槽 如何 选择 一家 公司 java 基础 java 基础 高频 面试题 年 最新版 一道 有意思 的 初始化 面试题 集合 hashmapjava 集合 框架 高频 面试题 年 最新版 面试 阿里 hashmap 这一 篇 就 够了 并发 编程 面试 必 问 的 线程 池 你 懂 了吗 面试 必 问 的 cas 你 懂 了吗 mysql 面试 必 问 的 mysql 你 懂 了吗 mysqlmvcc 核心 原理 解析 核心 源码 spring 面试 必 问 的 spring 你 懂 了吗 mybatis 面试题 mybatis 中 的 dao 接口 和 xml 文件 里 的 sql 是 如何 建立 关系 的 redis 面试 必 问 的 缓存 使用 如何 保证 数据一致性 缓存 设计 模式 面试 必 问 的 面试 必 问 的 redis 高 可用 解决方案 哨兵 集群 面试 必 问 的 redis 主从复制 面试 必 问 的 redisrdbaof 混合 持久 化 面试 必 问 的 redis 数据结构 和 基础 概念 jvmjava 虚拟机 面试题 精选 二 java 虚拟机 面试题 精选 一 分布式 面试 必 问 的 分布式 锁 你 懂 了吗 算法 位图 法 判断 一 个数 是否 在 亿个 整数 中 正文 面向对象 的 三个 基本特征 面向对象 的 三个 基本特征 是 封装 继承 和 多态 继 承让 某个 类型 的 对象 获得 另一个 类型 的 对象 的 属性 的 方法 继承 就是 子类 继承 父 类 的 特征 和 行为 使得 子类 对象 实例 具有 父 类 的 实例 域 和 方法 或 子类 从父 类 继承 方法 使得 子类 具有 父 类 相同 的 行为 封装 隐藏 部分 对象 的 属性 和 实现 细节 对 数据 的 访问 只能 通过 外 公开 的 接口 通过 这种 方式 对象 对 内部 数据 提供 了 不同 级别 的 保护 以 防止 程序 中 无关 的 部分 意外 的 改变 或 错误 的 使 用了 对象 的 私有 部分 多态 对于 同一个 行为 不同 的 子类 对象 具有 不同 的 表现形式 多态 存在 的 个 条件 继承 重写 父 类 引用 指向 子类 对象 举个 简单 的 例子 英雄 联盟 里面 我们 按 下 q 键 这个 动作 对于 亚 索 就是 斩 钢 闪 对于 提 莫 就是 致 盲 吹箭 对于 剑圣 就是 阿尔法 突袭 同一个 事件 发 生在 不同 的 对象 上会 产生 不同 的 结果 我 再 举 一个 简单 的 例子 帮助 大家 理解 这个 例子 可能 不是 完全 准确 但是 我 认为是 有利于 理解 的 动物 publicvoidsleep 躺着 睡 马 是 一种 动物 publicvoidsleep 站着 睡 猫 是 一种 动物 四脚朝天 的 睡 在这 个 例子 中 house 和 cat 都是 animal 所以 他们 都 继承 了 animal 同时 也 从 animal 继承 了 sleep 这个 行为 但是 针对 sleep 这个 行为 house 和 cat 进行了 重写 有 了 不同 的 表现形式 实现 这个 我们 称为 多态 在 cat 里 将 age 属性 定义 为 private 外界 无法 直接 访问 要 获取 cat 的 age 信息 只能 通过 getage 方法 从而 对外 隐藏 了 age 属性 这个 就 叫做 封装 当然 这边 age 只是 个例 子 实际使用 中 可能是 一个 复杂 很多 的 对象 访问 修饰符 以及 不 写 时 的 区别 下面 两个 代码 块 能 正常 编译 和 执 行吗 代码 块 shortsss 代码 块 shortss 代码 块 编译 报错 错误 原因是 不 兼容 的 类型 从 int 转 换到 short 可能 会有 损失 代码 块 正常 编译 和 执行 我们 将 代码 块 进行 编译 字节 码 如下 javalangstring codeiconst 将 int 类型 值 入 操作数 栈 istore 将 栈 顶 int 类型 值 保 存到 局部变量 中 iload 从 局部变量 中 装载 int 类型 值 入 栈 iconst 将 int 类型 值 入 栈 iadd 将 栈 顶 两 int 类型 数 相加 结果 入 栈 is 将 栈 顶 int 类型 值 截 断成 short 类型 值 后 带符号 扩展 成 int 类型 值 入 栈 istore 将 栈 顶 int 类型 值 保 存到 局部变量 中 return 可以 看到 字节 码 中 包 含了 is 指令 该 指令 用于 将 int 转成 shortis 是 inttoshort 的 缩写 其实 s 相当于 s short s 有 兴趣 的 可以 自己 编译 下 这 两行 代码 的 字节 码 你 会发 现是 一摸 一样 的 说 好 的 java 基础 题 怎么 又 开始 变态 起 来了 基础 考察 指 出下 题 的 输出 结果 stringargs ab cd 答案 是 falsetrue 执行 integera 相当于 执行 基本 类型 自动 转 换为 包装 类 的 过程 称为 自动 装箱 inti if integercachelow i 在 integer 中 引 入了 integercache 来 缓存 一定 范围 的 值 integercache 默认 情况下 范围 为 本 题中 的 命 中了 integercache 所以 c 和 d 是 相同 对象 而 则没 有 命中 所以 a 和 b 是 不同 对象 但是 这个 缓存 范围 时 可以 修改 的 可能 有些人 不知道 可以 通过 jvm 启动 参数 来 修改 上 限值 如 下图 所示 用 最有 效率 的 方法 计算 乘以 ltlt 进阶 通常情况下 可以 认为 位 运 算是 性能 最高 的 但是 其实 编译器 现在 已经 非常 聪 明了 很多 指令 编译器 都能 自己 做 优化 所以在 实际 实用 中 我们 无需 特意 去 追求 实用 位 运算 这样 不仅 会 导致 代码 可读性 很差 而且 某些 自作聪明 的 优化 反而会 误导 编译器 使得 编译器 无法 进行 更好 的 优化 这 可能 就是 所谓 的 猪 队友 吧 amp 和 ampamp 的 区别 ampamp 逻辑 与 运算符 当 运算符 左右 两边 的 表达式 都为 true 才 返回 true 同时 具有 短路 性 如果 第一个 表达式 为 false 则 直接 返回 falseamp 逻辑 与 运算符 按 位 与 运算符 按 位 与 运算符 用于 二进制 的 计算 只有 对应 的 两个 二进位 均 为时 结 果位 才 为 否 则为 逻辑 与 运算符 amp 在 用于 逻辑 与 时 和 ampamp 的 区 别是 不具有 短路 性 所在 通常 使用 逻辑 与 运算符 都会 使用 ampamp 而 amp 更多 的 适用于 位 运算 string 是 java 基本 数据类型 吗 答 不是 java 中 的 基本 数据类型 只有 个 除了 基本 类型 primitivetype 剩下 的 都是 引用 类型 referencetype 基本 数据类型 数据 直接 存储 在 栈 上 引用 数据类型 区别 数据 存储 在 堆上 栈 上 只 存储 引用 地址 string 类 可以 继承 吗 不行 string 类 使用 final 修饰 无法 被 继承 string 和 的 区别 stringstring 的 值 被 创建 后 不能 修改 任何 对 string 的 修改 都会 引发 新 的 string 对象 的 生成 stringbuffer 跟 string 类似 但是 值 可以 被 修改 使用 synchronized 来 保证 线程 安全 的 非 线程 安全 版本 没有 使用 synchronized 具有 更高 的 性能 推荐 优先 使用 xyz 创 建了 几个 字符串 对象 一个 或 两个 如果 字符串 常量 池 已经有 xyz 则是 一个 否则 两个 当 字符 创 常量 池 没有 xyz 此 时会 创建 如下 两个 对象 一个是 字符串 字面 量 xyz 所 对应 的 驻留 intern 在 一个 全局 共享 的 字符串 常量 池中 的 实例 此时 该 实例 也是 在 堆 中 字符串 常量 池 只 放 引用 另 一个是 通过 newstring 创建 并 初始化 的 内容 与 xyz 相同 的 实例 也是 在 堆 中 stringsxyz 和 xyz 区别 两个 语句 都会 先去 字符串 常量 池中 检查 是否 已经 存在 xyz 如果有 则 直接 使用 如果 没有 则 会在 常量 池中 创建 xyz 对象 另外 xyz 还会 通过 newstring 在 堆 里 创建 一个 内容 与 xyz 相同 的 对象 实例 所以 前者 其实 理解为 被 后者 的 所 包含 和 equals 的 区别 是什么 运算符 用于 比较 基础 类型 变量 和 引用 类型 变量 对于 基础 类型 变量 比较 的 变量 保存 的 值 是否 相同 类型 不一 定要 相同 shortslongl 结果 true 类型 不同 但是 值 相同 sl 对于 引用 类型 变量 比较 的 是 两个 对象 的 地址 是否 相同 结果 false 通过 new 创建 在 内存 中 指向 两个 不同 的 对象 ii equalsobject 类 中 定义 的 方法 通常 用于 比较 两个 对象 的 值 是否 相等 equals 在 object 方法 中 其实 等同于 但是在 实际 的 使用 中 equals 通 常被 重写 用于 比较 两个 对象 的 值 是否 相同 结果 true 两个 不同 的 对象 但是 具有 相同 的 值 iequals i integer 的 equals 重写 方法 objectobj if 比较 对象 中 保存 的 值 是否 相同 returnvalue integer obj intvalue returnfalse 两个 对象 的 hashcode 相同 则 equals 也 一 定为 true 对 吗 不对 hashcode 和 equals 之间 的 关系 如下 当 有 aequals b true 时 则 ahashcode bhashcode 必然 成立 反过来 当 ahashcode bhashcode 时 aequals b 不一 定为 true 什么 是 反射 反射 是 指在 运行 状态 中 对于 任意 一个 类 都能够 知道 这个 类 所有 的 属性 和 方法 并且 对于 任意 一个 对象 都能够 调 用它 的 任意 一个 方法 这种 动态 获取 信息 以及 动态 调用 对象 方法 的 功能 称为 反射 机制 深 拷贝 和 浅 拷贝 区别 是什么 数据 分为 基本 数据类型 和 引用 数据类型 基本 数据类型 数据 直接 存储 在 栈 中 引用 数据类型 存储 在 栈 中 的 是 对象 的 引用 地址 真实 的 对象 数据 存放在 堆 内存 里 浅 拷贝 对于 基础 数据类型 直接 复制 数据 值 对于 引用 数据类型 只是 复制 了 对象 的 引用 地址 新旧 对象 指向 同一个 内存地址 修改 其中 一个 对象 的 值 另一个 对象 的 值 随之 改变 深 拷贝 对于 基础 数据类型 直接 复制 数据 值 对于 引用 数据类型 开辟 新 的 内存空间 在 新 的 内存空间 里 复制 一个 一模一样 的 对象 新老 对象 不 共享 内存 修改 其中 一个 对象 的 值 不会 影响 另一个 对象 深 拷贝 相比 于 浅 拷贝 速度 较慢 并且 花销 较大 并发 和 并行 有 什么区别 并发 两个 或 多个 事件 在 同一时间 间隔 发生 并行 两个 或者 多个 事件 在 同一 时刻 发生 并行 是 真正 意义上 同一 时刻 做 多 件 事情 而 并 发在 同一 时刻 只 会做 一件 事件 只是 可以 将 时间 切碎 交替 做 多 件事 情网 上有 个 例子 挺 形象 的 你 吃饭 吃到 一半 电话 来了 你 一 直到 吃 完了 以后 才 去接 这就 说明 你 不支持 并发 也 不支持 并行 你 吃饭 吃到 一半 电话 来了 你 停了 下来 接了 电话 接完 后 继续 吃饭 这说明 你 支持 并发 你 吃饭 吃到 一半 电话 来了 你 一边 打电话 一边 吃饭 这说明 你 支持 并行 构造 器 是否 可被 重写 constructor 不能 被 override 重写 但是 可以 overload 重载 所以 你 可以 看到 个 类 中有 多个 构造 函数 的 情况 当 一个 对象 被 当作 参数 传递 到 一个 方法 后 此 方法 可 改变 这个 对象 的 属性 并可 返回 变化 后 的 结果 那么 这里 到底是 值 传递 还是 引用 传递 值 传递 java 中 只有 值 传递 对于 对象 参 数值 的 内容 是 对象 的 引用 java 静态 变量 和 成员 变量 的 区别 publicclassdemo 静态 变量 又称 类 变量 static 修饰 静态 变量 实例 变量 又称 成员 变量 没有 static 修饰 实例 变量 成员 变量 存在于 堆 内存 中 静态 变量 存在于 方法 区 中 成员 变量 与 对象 共存亡 随着 对象 创建 而 存在 随着 对象 被 回收 而 释放 静态 变量 与 类 共存亡 随着 类 的 加载 而 存在 随着 类 的 消失 而 消失 成员 变量 所 属于 对象 所以 也 称为 实例 变量 静态 变量 所 属于 类 所以 也 称为 类 变量 成员 变量 只能 被 对象 所 调用 静态 变量 可以 被 对象 调用 也 可以 被 类 名 调用 是否 可以 从一 个 静态 static 方法 内部 发出 对 非 静态 nonstatic 方法 的 调用 区分 两种 情况 发出 调 用时 是否 显示 创 建了 对象 实例 没有 显示 创建 对象 实例 不可以 发起 调用 非 静态 方法 只能 被 对象 所 调用 静态 方法 可以 通过 对象 调用 也 可以 通过 类 名 调用 所以 静态 方法 被 调 用时 可能 还没有 创建 任何 实例 对象 因此 通过 静态 方法 内部 发出 对 非 静态 方法 的 调用 此时 可能 无法 知道 非 静态 方法 属于 哪个 对象 直接 调用 非 静态 方法 编译 报错 instancemethod 非 静态 方法 显示 创建 对象 实例 可以 发起 调 用在 静态 方法 中 显示 的 创建 对象 实例 则 可以 正常 的 调用 先 创建 实例 对象 再 调用 非 静态 方法 成功 执行 demodemonewdemo 非 静态 方法 初始化 考察 请 指出 下面 程序 的 运行 结果 stringargs aabnewb abnewb classastatic 父 类 静态 代码 块 systemoutprint a publica 父 类 构造 器 systemoutprint a 子类 静态 代码 块 systemoutprint b publicb 子类 构造 器 systemoutprint b 执行 结果 ababab 两个 考察 点 静态 变量 只会 初始化 执行 一次 当 有 父 类 时 完整 的 初始化 顺序 为 父 类 静态 变量 静态 代码 块 gt 子类 静态 变量 静态 代码 块 gt 父 类 非 静态 变量 非 静态 代码 块 gt 父 类 构造 器 gt 子类 非 静态 变量 非 静态 代码 块 gt 子类 构造 器 关于 初始化 这 题 算 入门 题 我 之前 还 写过 一道 有 fei 点 chang 意 bian 思 tai 的 进阶 题目 有 兴趣 的 可以 看看 一道 有意思 的 初始化 面试题 重载 overload 和 重写 override 的 区别 方法 的 重载 和 重写 都是 实现 多态 的 方式 区别 在于 前者 实现 的 是 编译 时 的 多态性 而 后者 实现 的 是 运行时 的 多态性 重载 一个 类 中有 多个 同名 的 方法 但是 具有 有 不同 的 参数 列表 参数 类型 不同 参数 个数 不同 或者 二者 都不 同 重写 发 生在 子类 与 父 类 之间 子类 对 父 类 的 方法 进行 重写 参数 都不能 改变 返回值 类型 可以 不相同 但是 必须 是 父 类 返回值 的 派生类 即 外壳 不变 核心 重写 重写 的 好处 在于 子类 可以 根据需要 定义 特 定于 自己 的 行为 为什么 不能 根据 返回 类型 来 区分 重载 如果 我们 有 两个 方法 如下 当 我们 调用 test 时 编译器 无法 确认 要 调用 的 是 哪个 方法 inttest inta 方法 longtest inta 方法 的 返回值 只是 作为 方法 运行 之后 的 一个 状态 但是 并不是 所有 调用 都 关注 返回值 所以 不 能将 返回值 作为 重载 的 唯一 区分 条件 抽象类 abstractclass 和 接口 interface 有 什么区别 抽象类 只能 单 继承 接口 可以 多 实现 抽象类 可以 有 构造 方法 接 口中 不能 有 构造 方法 抽象类 中 可以 有 成员 变量 接 口中 没有 成员 变量 只能 有 常量 默认 就是 抽象类 中 可以 包含 非 抽象 的 方法 在 java 之前 接 口中 的 所有 方法 都是 抽象 的 在 java 之后 接口 支持 非 抽象 方法 default 方法 静态 方法 等 java 支持 私有 方法 私有 静态 方法 抽象类 中 的 抽象 方法 类型 可 以是 任意 修饰符 java 之前 接 口中 的 方法 只能 是 public 类型 java 支持 private 类型 设计 思想 的 区别 接口 是 自上而下 的 抽象 过程 接口 规范 了 某些 行为 是 对 某一 行为 的 抽象 我 需要 这个 行为 我 就去 实现 某个 接口 但是 具体 这个 行为 怎么 实现 完 全由 自己 决定 抽象类 是 自下而上 的 抽象 过程 抽象类 提供 了 通用 实 现是 对 某一 类 事物 的 抽象 我们 在 写 实现 类 的 时候 发现 某些 实现 类 具有 几乎 相同 的 实现 因此 我们 将 这些 相同 的 实现 抽取 出来 成为 抽象类 然后 如果有 一些 差异 点 则 可以 提供 抽象 方法来 支持 自定义 实现 我 在 网上 看到 有 个 说 法挺 形象 的 普通 类像 亲爹 他 有 啥 都是 你 的 抽象 类像 叔伯 有 一部 分会 给你 还能 指导 你 做事 的 方法 接口 像 干爹 可以 给你 指引 方法 但是 做成 啥 样 得 你 自己 努力实现 error 和 exception 有 什么区别 error 和 exception 都是 throwable 的 子类 用于 表示 程序 出现 了 不正常 的 情况 区别 在于 error 表示 系统 级 的 错误 和 程序 不必 处理 的 异 常是 恢复 不是 不可能 但 很 困难 的 情况下 的 一种 严重问题 比如 内存 溢出 不可能 指望 程序 能 处理 这样 的 情况 exception 表示 需要 捕捉 或者 需要 程序 进行 处理 的 异 常是 一种 设计 或 实现 问题 也就是说 它 表示 如果 程序 运行 正常 从不 会 发生 的 情况 java 中 的 final 关键字 有 哪些 用法 修饰 类 该类 不能 再 派生 出新 的 子类 不能 作为 父 类 被 继承 因此 一个 类 不能 同时 被 声 明为 abstract 和 final 修饰 方法 该 方法 不能 被 子类 重写 修饰 变量 该 变量 必 须在 声 明时 给定 初值 而在 以后 只能 读取 不可 修改 如果 变量 是 对象 则 指的是 引用 不可 修改 但是 对象 的 属性 还是 可以 修改 的 不可 再 修改 该 变量 的 值 不可 再 修改 该 变量 的 引用 但是 可以 直接 修改 属性 值 stringargs 输出 user idnamenullage user 直接 修改 属性 值 usersetname test 输出 user idnametestage user 阐述 的 区别 其实是 三个 完全 不相关 的 东西 只是 长 的 有点像 final 如上 所示 finallyfinally 是 对 java 异常 处理 机制 的 最佳 补充 通常 配合 trycatch 使用 用于 存放 那些 无论 是否 出现异常 都 一 定会 执行 的 代码 在 实际使用 中 通常 用于 释放 锁 数据库 连接 等 资源 把 资源 释放 方法 放到 finally 中 可以 大大 降低 程序 出错 的 几率 finalizeobject 中 的 方法 在 垃圾 收集器 将 对象 从 内存 中 清除 出去 之前 做 必要 的 清理 工作 finalize 方法 仅 作为 了解 即 可在 java 中 该 方法 已经 被 标 记为 废弃 并 添加 新 的 提供 了 更 灵活 和 有效 的 方法来 释放 资源 这也 侧面 说 明了 这个 方法 的 设计 是 失败 的 因此 更加 不 能去 使 用它 trycatchfinally 考察 请 指出 下面 程序 的 运行 结果 stringargs test tryreturncatch exceptione 执行 结果 相信 很多 同学 应该 都做 对了 trycatchfinally 的 基础 用法 在 return 前 会 先 执行 finally 语句 块 所以是 先 输出 finally 里 的 再 输出 return 的 trycatchfinally 考察 请 指出 下面 程序 的 运行 结果 stringargs test 执行 结果 这 题 有点 先将 但也 不难 try 返回 前先 执行 finally 结果 finally 里 不 按 套路 出牌 直接 return 了 自然 也就 走不到 try 里面 的 return 了 finally 里面 使用 return 仅存 在于 面试 题中 实际 开发 中 千万 不要 这么 用 trycatchfinally 考察 请 指出 下面 程序 的 运行 结果 stringargs test 执行 结果 这边 估计 有 不少 同学会 以为 结果 应该 是因为 我们 知道 在 return 前 会 执行 finally 而 i 在 finally 中被 修改 为了 那 最终 返回 i 不是 应 该为 吗 确实 很 容易 这么 想我 最初 也是 这么 想 的 当初 的 自己 还是 太 年轻 了 啊 这边 的 根本 原因是 在 执行 finally 之前 jvm 会 先将 i 的 结果 暂存 起来 然后 finally 执行 完毕 后会 返回 之前 暂存 的 结果 而 不是 返回 i 所以 即使 这边 i 已经 被 修 改为 最终 返回 的 还是 之前 暂存 起来 的 结果 这边 其实 根据 字节 码 可以 很 容易 看出来 在 进入 finally 之前 jvm 会 使用 iloadistore 两个 指令 将 结果 暂 存在 最终 返回 时 在 通过 iloadireturn 指令 返回 暂存 的 结果 为了 避免 气氛 再次 变态 起来 我 这边 就不 贴 具体 的 字节 码 程序 了 有 兴趣 的 同学 可以 自己 编译 查 看下 jdk 之后 有 哪些 新 特性 接口 默认 方法 java 允许 我们 给 接口 添加 一个 非 抽象 的 方法 实现 只需要 使用 default 关键字 即可 lambda 表达式 和 函数 式 接口 lambda 表达式 本质上 是 一段 匿名 内 部类 也 可 以是 一段 可以 传递 的 代码 lambda 允许 把 函数 作为 一个 方法 的 参数 函数 作为 参数 传递 到 方法 中 使用 lambda 表达式 使 代码 更加 简洁 但是 也 不要 滥用 否则 会有 可读性 等 问题 effectivejava 作者 joshbloch 建议 使用 lambda 表达式 最好 不要 超过 行 streamapi 用 函数 式 编程 方式 在 集合 类 上 进行 复杂 操作 的 工具 配合 lambda 表达式 可以 方便 的 对 集合 进行 处理 java 中 处理 集合 的 关键 抽象概念 它 可以 指定 你 希望 对 集合 进行 的 操作 可以 执行 非常复杂 的 查找 过滤 和 映射 数据 等 操作 使用 streamapi 对 集合 数据 进行 操作 就 类似于 使用 sql 执行 的 数据库 查询 也 可以 使用 streamapi 来 并行 执行 操作 简而言之 streamapi 提供 了 一种 高效 且 易于 使用 的 处理 数据 的 方式方法 引用 方法 引用 提供 了 非常 有用 的 语法 可以 直接 引用 已有 java 类 或 对象 实例 的 方法 或 构造 器 与 lambda 联合 使用方法 引用 可 以使 语言 的 构造 更 紧凑 简洁 减少 冗余 代码 日期 时间 apijava 引 入了 新 的 日期 时间 api 改 进了 日期 时间 的 管理 optional 类 著名 的 是 引起 系统 失败 最常 见 的 原因 很久以前 googleguava 项目 引 入了 optional 作为 解决 空 指针 异常 的 一种 方式 不赞成 代码 被 null 检查 的 代码 污染 期望 程序员 写 整洁 的 代码 受 googleguava 的 鼓励 optional 现在是 java 库 的 一部分 新 工具 新 的 编译 工具 如 nashorn 引擎 jjs 类 依赖 分析器 jdepswait 和 sleep 方法 的 区别 来源 不同 sleep 来自 thread 类 wait 来自 object 类 对于 同步 锁 的 影响 不同 sleep 不会 该 表 同步 锁 的 行为 如果 当前 线程 持有 同步 锁 那么 sleep 是 不会 让 线程 释放 同步 锁 的 wait 会 释放 同步 锁 让 其他 线程 进入 synchronized 代码 块 执行 使用范围 不同 sleep 可以 在 任何地方 使用 wait 只 能在 同步 控制 方法 或者 同步 控制 块 里面 使用 否 则会 抛 恢复 方式 不同 两者 会 暂停 当前 线程 但是在 恢复 上 不太 一样 sleep 在 时间 到了 之 后会 重新 恢复 wait 则 需要 其他 线程 调用 同一 对象 的 notify nofityall 才能 重新 恢复 线程 的 sleep 方法 和 yield 方法 有 什么区别 线程 执行 sleep 方法 后进 入 超时 等待 timedwaiting 状态 而 执行 yield 方法 后 进入 就绪 ready 状态 sleep 方法 给 其他 线程 运行 机会 时 不 考虑 线程 的 优先级 因此 会给 低 优先级 的 线程 运行 的 机会 yield 方法 只 会给 相同 优先级 或 更高 优先级 的 线程 以 运行 的 机会 线程 的 join 方法 是 干啥 用 的 用于 等待 当前 线程 终止 如果 一个 线程 a 执 行了 threadbjoin 语句 其 含义 是 当前 线程 a 等待 threadb 线程 终止 之后 才 从 threadbjoin 返回 继续 往下 执行 自己 的 代码 编写 多线程 程序 有 几种 实现 方式 通常 来说 可以 认为有 三种 方式 继承 thread 类 实现 runnable 接口 实现 callable 接口 其中 thread 其实 也是 实现 了 runable 接口 runnable 和 callable 的 主要 区别 在于 是否 有 返回值 thread 调用 start 方法 和 调用 run 方法 的 区别 run 普通 的 方法 调 用在 主 线程 中 执行 不会 新建 一个 线程 来 执行 start 新 启动 一个 线程 这时 此 线程 处于 就绪 可运 行 状态 并没有 运行 一旦 得到 cpu 时间 片 就 开始 执行 run 方法 线程 的 状态 流转 一个 线程 可以 处于 以下 状态 之一 new 新建 但是 尚未 启动 的 线程 处 于此 状态 没有 调用 start 方法 runnable 包含 就绪 ready 和 运行 中 running 两种 状态 线程 调用 start 方法 会会 进入 就绪 ready 状态 等待 获取 cpu 时间 片 如果 成功 获 取到 cpu 时间 片 则会 进入 运行 中 running 状态 blocked 线程 在 进入 同步 方法 同步 块 synchronized 时 被 阻塞 等待 同步 锁 的 线程 处 于此 状态 waiting 无限期 等待 另一个 线程 执行 特定 操作 的 线程 处 于此 状态 需 要被 显示 的 唤醒 否 则会 一直 等待 下去 例如 对于 objectwait 需要 等待 另一个 线程 执行 objectnotify 或 objectnotifyall 对于 threadjoin 则需 要 等待 指定 的 线程 终止 timedwaiting 在 指定 的 时间内 等待 另一个 线程 执行 某项 操作 的 线程 处 于此 状态 跟 waiting 类似 区别 在于 该 状态 有 超时 时间 参数 在 超时 时间 到了 后会 自动 唤醒 避免 了无 期限 的 等待 terminated 执行 完毕 已经 退出 的 线程 处 于此 状态 线程 在 给定 的 时间 点 只能 处于 一种 状态 这些 状态 是 虚拟机 状态 不 反映 任何 操作系统 线程 状态 synchronized 和 lock 的 区别 lock 是 一个 接口 synchronized 是 java 中 的 关键字 synchronized 是 内置 的 语言 实现 lock 在 发生 异常 时 如果 没有 主动 通过 unlock 去 释放 锁 很 可能会 造成 死锁 现象 因此 使用 lock 时 需 要在 finally 块 中 释放 锁 synchronized 不需要 手动 获取 锁 和 释放 锁在 发生 异常 时会 自动 释放 锁 因此 不会 导致 死锁 现象 发生 lock 的 使用 更加 灵活 可以 有 响应 中断 有 超时 时间 等 而 synchronized 却不 行 使用 synchronized 时 等待 的 线程 会 一直 等待 下去 直到 获 取到 锁在 性 能上 随着 近些年 synchronized 的 不断 优化 lock 和 synchronized 在 性 能上 已经 没有 很明显 的 差距 了 所以 性能 不应该 成为 我们 选择 两者 的 主要原因 官方 推荐 尽量 使用 synchronized 除非 synchronized 无法 满足 需求 时 则可 以 使用 各种 加锁 场景 的 作用 范围 作用于 非 静态 方法 锁住 的 是 对象 实例 this 每一个 对象 实例 有 一个 锁 作用于 静态 方法 锁住 的 是 类 的 class 对象 因为 class 的 相关 数据 存储 在 永久 代 元 空间 元 空间 是 全局 共享 的 因此 静态 方法 锁相 当于 类 的 一个 全局 锁 会 锁 所有 调用 该 方法 的 线程 作用于 lockclass 锁住 的 是 lock 的 class 对象 也是 全局 只有 一个 synchronized lockclass 作用于 this 锁住 的 是 对象 实例 每一个 对象 实例 有 一个 锁 synchronized this 作用于 静态 成员 变量 锁住 的 是 该 静态 成员 变量 对象 由 于是 静态 变量 因此 全局 只有 一个 synchronized monitor 如何 检测 死锁 死锁 的 四个 必要条件 互斥 条件 进程 对 所分 配到 的 资源 进行 排他性 控制 即在 一段 时间内 某 资源 仅为 一个 进程 所占 有 此时 若有 其他 进程 请求 该 资源 则 请求 进程 只能 等待 请 求和 保持 条件 进程 已经 获得了 至少 一个 资源 但 又对 其他 资源 发出 请求 而 该 资源 已被 其他 进程 占有 此时 该 进程 的 请求 被 阻塞 但 又对 自己 获得 的 资源 保持 不放 不可 剥夺 条件 进程 已 获得 的 资源 在 未 使用 完毕 之前 不 可被 其他 进程 强行 剥夺 只能 由 自己 释放 环路 等待 条件 存在 一种 进程 资源 的 循环 等待 链 链 中 每一个 进程 已 获得 的 资源 同时 被 链 中下 一个 进程 所 请求 即 即 存在 一个 处于 等待 状态 的 进程 集合 plppn 其中 pi 等待 的 资源 被 p i 占有 in pn 等待 的 资源 被 p 占有 如 下图 所示 怎么 预防 死锁 预防 死锁 的 方式 就是 打破 四个 必要条件 中 的 任意 一个 即可 打破 互斥 条件 在 系统 里 取消 互斥 若 资源 不被 一个 进程 独占 使用 那么 死锁 是 肯定 不会 发生 的 但 一般来说 在 所列 的 四个 条件 中 互斥 条件 是 无法 破坏 的 因此在 死锁 预防 里 主 要是 破坏 其他 几个 必要条件 而 不去 涉及 破坏 互斥 条件 打破 请 求和 保持 条件 采用 资源 预先 分配 策略 即 进程 运 行前 申请 全部 资源 满足 则 运行 不然 就 等待 每个 进程 提 出新 的 资源 申请 前 必须先 释放 它 先前 所占 有的 资源 打破 不可 剥夺 条件 当 进程 占有 某些 资源 后又 进一步 申请 其他 资源 而 无法 满足 则 该 进程 必须 释放 它 原来 占有 的 资源 打破 环路 等待 条件 实现 资源 有序 分配 策略 将 系统 的 所有 资源 统一 编号 所有 进程 只能 采用 按 序号 递增 的 形式 申请 资源 为什么 要 使用 线程 池 直接 new 个 线程 不是 很 舒服 如果 我们 在 方法 中 直接 new 一个 线程 来处 理当 这个 方法 被 调用 频繁 时 就会 创建 很多 线程 不仅 会 消耗 系统资源 还会 降低 系统 的 稳定性 一不小心 把 系统 搞 崩了 就可以 直 接去 财务 那 结帐 了 如果 我们 合理 的 使用 线程 池 则可 以 避免 把 系统 搞 崩 的 窘境 总得来说 使用 线程 池 可以 带来 以下 几个 好处 降低 资源 消耗 通过 重复 利用 已 创建 的 线程 降低 线程 创 建和 销毁 造成 的 消耗 提高 响应速度 当 任务 到达 时 任务 可以 不需要 等到 线程 创建 就能 立即 执行 增加 线程 的 可 管理 型 线程 是 稀缺资源 使用 线程 池 可以 进行 统一分配 调 优 和 监控 线程 池 的 核心 属性 有 哪些 threadfactory 线程 工厂 用于 创建 工作 线程 的 工厂 corepoolsize 核心 线程 数 当 线程 池 运行 的 线程 少于 corepoolsize 时 将 创建 一个 新 线程 来 处理 请求 即使 其他 工作 线程 处于 空闲 状态 workqueue 队列 用于 保留 任务 并 移 交给 工作 线程 的 阻塞 队列 maximumpoolsize 最大 线程 数 线程 池 允许 开启 的 最大 线程 数 handler 拒绝 策略 往 线程 池 添加 任务 时 将在 下面 两种 情况 触发 拒绝 策略 线程 池 运行 状态 不是 running 线程 池 已经 达到 最大 线程 数 并且 阻塞 队列 已满 时 keepalivetime 保持 存活 时间 如果 线程 池 当前 线程 数 超过 corepoolsize 则 多余 的 线程 空闲 时间 超过 keepalivetime 时 会被 终止 说下 线程 池 的 运作 流程 线程 池 有 哪些 拒绝 策略 abortpolicy 中止 策略 默认 的 拒绝 策略 直接 抛出 调用者 可以 捕获 这个 异常 然后 根据 需求 编写 自己 的 处理 代码 discardpolicy 抛弃 策略 什么 都 不做 直接 抛弃 被 拒绝 的 任务 抛弃 最 老 策略 抛弃 阻塞 队列 中最 老 的 任务 相当于 就是 队列 中下 一个 将要 被执行 的 任务 然后 重新 提交 被 拒绝 的 任务 如果 阻塞 队列 是 一个 优先 队列 那么 抛弃 最旧 的 策略 将 导致 抛弃 优先级 最高 的 任务 因此 最好 不要 将该 策略 和 优先级 队列 放在 一起 使用 调用者 运行 策略 在 调用者 线程 中 执行 该 任务 该 策略 实现 了 一种 调节 机制 该 策略 既 不会 抛弃 任务 也 不会 抛出 异常 而是 将 任务 回 退到 调用者 调用 线程 池 执行任务 的 主 线程 由于 执行任务 需要 一定 时间 因此 主 线程 至少在 一段 时间内 不能 提交 任务 从而 使得 线程 池 有时间 来处 理完 正在 执行 的 任务 listsetmap 三者 的 区别 list 对付 顺序 的 好帮手 list 接口 存储 一组 不 唯一 可以 有 多个 元素 引用 相同 的 对象 有序 的 对象 set 注重 独一无二 的 性质 不允许 重复 的 集合 不会有 多个 元素 引用 相同 的 对象 map 用 key 来 搜索 的 专业户 使用 键值 对 存储 map 会 维护 与 key 有 关联 的 值 两个 key 可以 引用 相同 的 对象 但 key 不能 重复 典型 的 key 是 string 类型 但也 可 以是 任何 对象 arraylist 和 linkedlist 的 区别 arraylist 底层 基于 动态 数组 实现 linkedlist 底层 基于 链表 实现 对于 按 index 索引 数据 getset 方法 arraylist 通过 index 直接 定位 到 数组 对应 位置 的 节点 而 linkedlist 需要 从头 结点 或 尾 节点 开始 遍历 直到 寻 找到 目标 节点 因此在 效率 上 arraylist 优于 linkedlist 对于 随机 插入 和 删除 arraylist 需要 移动 目标 节点 后面 的 节点 使用 systemarraycopy 方法 移动 节点 而 linkedlist 只需 修改 目标 节点 前后 节点 的 next 或 prev 属性 即可 因此在 效率 上 linkedlist 优于 arraylist 对于 顺序 插入 和 删除 由于 arraylist 不需要 移动 节点 因此在 效率 上 比 linkedlist 更好 这 也是 为什么 在 实际使用 中 arraylist 更多 因为 大部分 情况下 我们 的 使用 都是 顺序 插入 arraylist 和 vector 的 区别 vector 和 arraylist 几乎 一致 唯一 的 区 别是 vector 在 方法 上 使 用了 synchronized 来 保证 线程 安全 因此在 性 能上 arraylist 具有 更好 的 表现 有 类似 关系 的 还有 stringbuilder 和 和 hashtable 介绍 下 hashmap 的 底层 数据结构 我们 现 在用 的 都是 jdk 底层 是 由 数组 链表 红 黑 树 组成 如 下图 而在 jdk 之前 是 由 数组 链表 组成 为什么 要 改成 数组 链表 红 黑 树 主要 是为了 提 升在 hash 冲突 严重 时 链表 过长 的 查找 性能 使用 链表 的 查找 性能 是 o n 而 使用 红 黑 树 是 o logn 那 在 什么时候 用 链表 什么时候 用 红 黑 树 对于 插入 默认 情况下 是 使用 链表 节点 当 同一个 索引 位置 的 节 点在 新增 后 超过 个 阈值 如果 此时 数组 长度 大于 等于 则会 触发 链表 节点 转 红 黑 树 节点 treeifybin 而 如果 数组 长度 小于 则 不会 触发 链表 转 红 黑 树 而是 会 进行 扩容 因为 此时 的 数据量 还 比 较小 对于 移除 当 同一个 索引 位置 的 节 点在 移除 后 达到 个 并且 该 索引 位置 的 节点 为 红 黑 树 节点 会 触 发红 黑 树 节点 转 链表 节点 的 默认 初始 容量 是多少 hashmap 的 容量 有 什么 限制 吗 默认 初始 容量 是 hashmap 的 容量 必须 是的 n 次方 hashmap 会 根据 我们 传入 的 容量 计算 一个 大于 等于 该 容量 的 最小 的 的 n 次方 例如 传 容量 为 hashmap 的 插入 流程 是 怎么样 的 hashmap 的 扩容 resize 流程 是 怎么样 的 除了 hashmap 还 用过 哪些 map 在 使 用时 怎么 选择 hashmap 和 hashtable 的 区别 hashmap 允许 key 和 value 为 nullhashtable 不允许 hashmap 的 默认 初始 容量 为 hashtable 为 hashmap 的 扩容 为 原来 的 倍 hashtable 的 扩容 为 原来 的 倍加 hashmap 是非 线程 安全 的 hashtable 是 线程 安全 的 hashmap 的 hash 值 重新 计 算过 hashtable 直接 使用 hashcodehashmap 去 掉了 hashtable 中 的 contains 方法 hashmap 继承 自 abstractmap 类 hashtable 继承 自 dictionary 类 java 内存 结构 运行时 数据 区 程序 计数器 线程 私有 一块 较小 的 内存空间 可以 看作 当前 线程 所 执行 的 字节 码 的 行号 指示器 如果 线程 正在 执行 的 是 一个 java 方法 这个 计数器 记录 的 是 正在 执行 的 虚拟机 字节 码 指令 的 地址 如果 正在 执行 的 是 native 方法 这个 计数器 值 则为 空 java 虚拟机 栈 线程 私有 它 的 生命周期 与 线程 相同 虚拟机 栈 描述 的 是 java 方法 执行 的 内存 模型 每个 方法 在 执行 的 同时 都会 创建 一个 栈 帧 用于 存储 局部变量 表 操作数 栈 动态 链接 方法 出口 等 信息 每一个 方法 从 调用 直至 执行 完成 的 过程 就 对 应着 一个 栈 帧 在 虚拟机 栈 中 入 栈 到 出 栈 的 过程 本地 方法 栈 线程 私有 本地 方法 栈 与 虚拟机 栈 所 发挥 的 作用 是 非常 相似 的 它们 之间 的 区别 不过是 虚拟机 栈 为 虚拟机 执行 java 方法 也 就是 字节 码 服务 而 本地 方法 栈 则为 虚拟机 使 用到 的 native 方法 服务 java 堆 线程 共享 对 大多数 应用 来说 java 堆 是 java 虚拟机 所 管理 的 内存 中 最大 的 一块 java 堆 是 被 所有 线程 共享 的 一块 内存 区域 在 虚拟机 启动时 创建 此 内存 区域 的 唯一 目的 就是 存放 对象 实例 几乎 所有 的 对象 实例 都在 这里 分配 内存 方法 区 与 java 堆 一样 是 各个 线程 共享 的 内存 区域 它 用于 存储 已被 虚拟机 加载 的 类 信息 构造 方法 接口 定义 常量 静态 变量 即时 编译器 编译 后 的 代码 字节 码 等 数据 方法 区 是 jvm 规范 中 定义 的 一个 概念 具体 放在 哪里 不同 的 实现 可以 放在 不同 的 地方 运行时 常量 池 运行时 常量 池 是 方法 区 的 一部分 class 文件 中 除了 有 类 的 版本 字段 方法 接口 等 描述 信息 外 还有 一项 信息 是 常量 池 用于 存放 编译 期 生成 的 各种 字面 量 和 符号 引用 这 部分内容 将在 类 加载 后 进入 方法 区 的 运行时 常量 池中 存放 hello 上面 的 语 句中 变量 str 放在 栈 上 用 new 创建 出来 的 字符串 对象 放在 堆上 而 hello 这个 字面 量 是 放在 堆 中 什么 是 双亲 委派 模型 如果 一个 类 加载 器 收 到了 类 加载 的 请求 它 首先 不会 自己 去 尝试 加载 这个 类 而是 把 这个 请求 委 派给 父 类 加载 器 去 完成 每一个 层次 的 类 加载 器 都是 如此 因此 所有 的 加载 请求 最终 都应该 传送 到 顶层 的 启动 类 加载 器 中 只 有当 父 加载 器 反馈 自己 无法 完成 这个 加载 请求 它 的 搜索 范围 中 没有 找到 所需 的 类 时 子 加载 器 才会 尝试 自己 去 加载 java 虚拟机 中有 哪些 类 加载 器 启动 类 加载 器 这个 类 加载 器 负责 将 存放在 ltjavahomegtlib 目录 中 的 或者 被 xbootclasspath 参数 所 指定 的 路径 中 的 并且是 虚拟机 识别 的 仅 按照 文件名 识别 如 rtjar 名字 不符合 的 类 库 即使 放在 lib 目录 中 也 不 会被 加载 类 库 加 载到 虚拟机 内存 中 扩展 类 加载 器 这个 加载 器 由 实现 它 负责 加载 目录 中 的 或者 被 javaextdirs 系统 变量 所 指定 的 路径 中 的 所有 类 库 开发者 可以 直接 使用 扩展 类 加载 器 应用程序 类 加载 器 这个 类 加载 器 由 实现 由于 这个 类 加载 器 是 classloader 中 的 方法 的 返回值 所以 一般 也 称 它为 系统 类 加载 器 它 负责 加载 用户 类 路径 classpath 上 所 指定 的 类 库 开发者 可以 直接 使用 这个 类 加载 器 如果 应用程序 中 没有 自定义 过 自己 的 类 加载 器 一般 情况下 这个 就是 程序 中 默认 的 类 加载 器 自定义 类 加载 器 用户 自定义 的 类 加载 器 类 加载 的 过程 类 加载 的 过程 包括 加载 验证 准备 解析 初始化 其中 验证 准备 解析 统 称为 连接 加载 通过 一个 类 的 全 限 定名 来 获取 定义 此类 的 二进制 字节 流在 内存 中 生成 一个 代表 这个 类 的 javalangclass 对象 验证 确保 class 文件 的 字 节流 中 包含 的 信息 符合 当前 虚拟机 的 要求 并且 不会 危害 虚拟机 自身 的 安全 准备 为 静态 变量 分配 内存 并 设置 静态 变量 初始值 这里 所说 的 初始值 通常情况下 是 数据类型 的 零 值 解析 将 常量 池内 的 符号 引用 替 换为 直接 引用 初始化 到了 初始化 阶段 才 真正 开始 执行 类 中 定义 的 java 初始化 程序代码 主 要是 静态 变量 赋值 动作 和 静态 语句 块 static 中 的 语句 介绍 下 垃圾 收集 机制 在 什么时候 对 什么 做了 什么 在 什么时候 在 触发 gc 的 时候 具体 如下 这里 只 说 常见 的 younggc 和 fullgc 触发 younggc 当 新生代 中 的 eden 区 没有 足够 空间 进行 分配 时会 触发 younggc 触发 fullgc 当 准 备要 触发 一次 younggc 时 如果 发现 统计数据 说 之前 younggc 的 平均 晋升 大小 比 目前 老 年代 剩余 的 空间 大 则 不会 触发 younggc 而是 转为 触发 fullgc 通常 情况 如果有 永久 代 的话 在 永久 代 需要 分配 空间 但 已经 没有 足够 空间 时 也要 触发 一次 fullgcsystemgc 默认 也是 触发 fullgcheapdump 带 gc 默认 也是 触发 fullgccmsgc 时 出现 会 导致 一次 fullgc 的 产生 对 什么 对 那些 jvm 认为 已经 死掉 的 对象 即从 gcroot 开始 搜索 搜索 不到 的 并且 经过 一次 筛选 标记 没有 复活 的 对象 做了 什么 对 这些 jvm 认为 已经 死掉 的 对象 进行 垃圾 收集 新生代 使用 复制 算法 老 年代 使用 标记 清除 和 标记 整理 算法 gcroot 有 哪些 在 java 语 言中 可 作为 gcroots 的 对象 包括 下面 几种 虚拟机 栈 栈 帧 中 的 本地 变 量表 中 引用 的 对象 方法 区 中 类 静态 属性 引用 的 对象 方法 区 中 常量 引用 的 对象 本地 方法 栈 中 jni 即 一般 说的 native 方法 引用 的 对象 垃圾 收集 有 哪些 算法 各自 的 特点 标记 清除 算法 首先 标 记出 所有 需要 回收 的 对象 在 标记 完成后 统一 回收 所有 被 标记 的 对象 它 的 主要 不足 有 两个 一个是 效率 问题 标记 和 清除 两个 过程 的 效率 都 不高 另 一个是 空间 问题 标记 清除 之 后会 产生 大量 不 连续 的 内存 碎片 空间 碎片 太多 可能会 导致 以后 在 程序 运行 过程中 需要 分配 较大 对象 时 无法 找到 足够 的 连续 内存 而 不得不 提前 触发 另一次 垃圾 收集 动作 复制 算法 为了 解决 效率 问题 一种 称为 复制 copying 的 收集 算法 出现 了 它将 可用内存 按 容量 划 分为 大小 相等 的 两块 每次 只 使用 其中 的 一块 当 这一 块 的 内存 用 完了 就将 还 存 活着 的 对象 复制到 另外 一块 上面 然后 再把 已使 用过 的 内存空间 一次 清理 掉 这样 使得 每次 都是 对 整个 半 区 进行 内存 回收 内存 分配 时 也就 不用 考虑 内存 碎片 等 复杂情况 只要 移动 堆 顶 指针 按 顺序 分配 内存 即可 实现 简单 运行 高效 只是 这种 算法 的 代价 是 将 内存 缩小 为了 原来 的 一半 未免太 高了 一点 标记 整理 算法 复制 收集 算法 在 对象 存活率 较高 时 就要 进行 较多 的 复制 操作 效率 将会 变低 更 关键 的 是 如果 不想 浪费 的 空间 就需要 有 额外 的 空间 进行 分配 担保 以 应对 被 使用 的 内存 中所 有 对象 都 存活 的 极端 情况 所以在 老 年代 一般 不能 直接 选用 这种 算法 根据 老 年代 的 特点 有人 提 出了 另外 一种 标记 整理 markcompact 算法 标记 过程 仍然 与 标记 清除 算法 一样 但 后续 步骤 不是 直接 对 可回收 对象 进行 清理 而是 让 所有 存活 的 对象 都向 一端 移动 然后 直接 清理 掉 端 边界 以外 的 内存 分 代 收集 算法 当前 商业 虚拟机 的 垃圾 收集 都 采用 分 代 收集 算法 这种 算法 并没有 什么 新 的 思想 只是 根据 对象 存活 周期 的 不同 将 内存 划 分为 几块 一般 是 把 java 堆 分为 新生代 和 老 年代 这样 就可以 根据 各个 年代 的 特点 采用 最 适当 的 收集 算法 在 新生代 中 每次 垃圾 收集 时 都发 现有 大批 对象 死去 只有 少量 存活 那就 选用 复制 算法 只需要 付出 少量 存活 对象 的 复制 成本 就可以 完成 收集 在 老 年代 中 因为 对象 存活率 高 没有 额外 空间 对 它 进行 分配 担保 就必须 使用 标记 清理 或者 标记 整理 算法 来 进行 回收 最 后金 三 银 四 的 季节 相信 有 不少 同学 正准备 跳槽 我 将我 最近 的 原创 的 文章 进行了 汇总 原创 汇总 其中有 不少 面试 高频 题目 解析 很多 都是 我 自己 在 面试 大厂 时 遇到 的 我 在对 每个 题目 解析 时 都会 按 较高 的 标准 进行 深入 剖析 可能 只 看一遍 并不能 完全 明白 但是 相信 反复 阅读 定能 有所 收获 原创 不易 如果 你 觉得 本文 写 的 还 不错 对 你 有 帮助 请 通过 点 赞 让 我 知道 支持 我 写出 更好 的 文章 