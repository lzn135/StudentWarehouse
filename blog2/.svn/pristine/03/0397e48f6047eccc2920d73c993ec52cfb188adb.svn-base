小白 必看 python 数据 图表 可视化 案例 详解 对于 人类 来说 图案 和 文字 这两种 信息 表现方式 图案 应该 更 早于 文字 被 发明 现代 考古 人员 时 常在 山 洞里 发现 原始人 刻画 的 一些 岩画 总的来说 图案 比 文字 更具 有 视觉 冲击力 和 表现力 所以在 计算机 世界 里 我们 通常 喜欢 把 文字 数据 转 化为 图表 数据 用于 向 别人 更加 精准 有效 的 传达 数据 信息 今天 我们 就来 讲讲 在 python 中 如何 把 数据 转 换为 可视化 的 图表 本文 知识点 pyecharts 简介 与 安装 pyecharts 创建 第一个 图表 pyecharts 的 实际 数据 应用 pyecharts 简介 与 安装 说到 pyecharts 要 先 提到 它 的 前身 echartsecharts 是 由 百度 开源 的 一款 使用 javascript 实现 的 开源 可视化 库 涵 盖了 各种 图表 满足 各类 业务 需求 现在 已经 命名为 apacheecharts 由 apache 基金会 接管 而 pyecharts 就是 echarts 在 python 中 的 实现 其 核心 原理 主 要是 写了 一个 python 的 库 封 装了 echarts 各类 图表 的 基本 操作 然后 通过 渲染 机制 输出 一个 包含 js 代码 的 html 文件 其 核心 思想 还是 借 用了 echarts 的 底层 库 只是 用 python 封 装了 一次 之后 便于 本地 应用程序 使用 罢了 安装 pyecharts 很简单 直接 pip 即可 现在 pyecharts 的 最新版 本是 需要 python 的 环境 运行 pyecharts 创建 第一个 图表 pyecharts 的 使用 很简单 直接 import 需要 用到 的 图表 组件 设置 相关 参数 渲染 即可 现在 让我们 先用 几行 代码 来 创建 一个 柱状图 以上 代码 会在 程序 当前 运行 目录 创建 一个 renderhtml 的 文件 用于 展示 图表 来 解释一下 代码 用于 导入 bar 这个 类 bar 就是 用于 柱状图 处理 的 类 barbar 实例 化 bar 类 命名为 barbaraddxaxis 方法 用于 添加 柱状图 的 x 坐标 数据 它 可以 接收 一个 列表 或 元祖 数据 baraddyaxis 方法 用于 添加 柱状图 的 y 坐标 数据 它 可以 接收 一个 列表 或 元祖 数据 barrender 用于 渲染 结果 html 内容 不 传 参数 默认 文件 名为 renderhtml 也 可以 自定义 文件名 作为 参数 传递 进去 再来 看看 renderhtml 的 源码 通过 源码 我们 可以 看他 它 实际上 就是 一堆 htmljs 代码 的 实现 通常情况下 我们 不用 关心 renderhtml 的 源码 内容 只需要 生成 之后 在 浏览器 直接 展示 它 即可 介绍 完 pyecharts 的 基本 使 用后 让我们 来 一点 实际 的 例子 吧 pyecharts 的 实际 数据 应用 首先 我 想 到了 以 成都市 年 的 统计 年鉴 数据 作为 数据源 进行 一系列 的 图表 展示 接下来 我 准备 选择 几组 具体 的 数据 来 进行 图表 展示 第一 组我 选择 成都 历年 社会经济 主要 指标 人均 水平 的 数据 如 下图 把 地区 生产总值 数据 提取 出来 代码 如下 我们 可以 看到 代码 跟 之前 的 例子 变化 不大 无非是 把 xy 轴 的 数据 换了 而已 最后 通过 图表 的 展示 我们 可以 发现 年后 的 多 年间 成都 的 人均 gdp 变化 巨大 数据 太 单薄 我们 多加 一个 居民 储蓄 余额 来 看看 柱状图 的 参数 基本 规则 就是 x 轴 只有 一个 y 轴 可以 多个 现在 再来 看看 两个 y 轴 数据 的 表现 毫不 夸张 的 说 我 的 储蓄 余额 肯 定给 成都 人民 严重 拖后腿 了 接着 我们 来 弄 一个 饼 图 用来 分析 一下 人口 数据 数据源 如下 最终 代码 和 效果 如下 饼 图 的 代码 和 柱状图 稍微 有点 区 别来 解释一下 吧 首先 引 入了 一个 新 的 库 叫做 opts 该 库 主要 用于 图表 参数设置 的 在这里 我们 用 csetglobalopts title 成都 全市 人口 男女比例 把 图表 标题 设置 为了 成都 全市 人口 男女比例 这个 写法 是 pyecharts 封装 的 不够 优雅 大家 记住 这种 写法 就是了 setglobalopts 函数 可以 用来 设置 标题 工具条 提示 文本 等等 在 第 行 有 一个 zip keysvalues 的 操作 zip 函数 用于 将可 迭代 的 对象 作为 参数 将 对象 中 对应 的 元素 打 包成 一个个 元组 然后 返回 由 这些 元组 组成 的 列表 简单 的 说 就是 zip 函数 可以 用于 重组 多个 迭代 对象 重组 过程中 相同 元素 下标 的 数据 会被 重新 打包 组合 在一起 比如 将 abc 和 这两个 列表 进行 zip 之后 就会 得到 一个 包含 三个 元组 a b c 的 对象 因为 直接 zip 之后 得到 的 是 一个 迭代 对象 而 不是 列表 或者 元组 数据 所以 如果 我们 要 直接 将 结果 作为 数据 使用 需要 进行 一次 类型 转换 list zip args 那么 显而易见 本 例子 中 的 zip 结果 就应 该是 男性 女性 这个 数据 正好是 饼 图 需要 的 在 第 行 有 一个 cadd list data 的 代码 pie 类 的 add 函数 用于 饼 图 绘制 所需 要 用到 的 参数 至于 为什么 第一个 参数 是 一个 空 字符串 其实 因为 add 函数 第一个 参数 名为 seriesname 用来 表示 序列 名称 其实在 图表 展示 上 没什么 用处 所以 我 就 给它 设置 为 空 字符串 了 大家 可以 随意 设置 什么 都行 最后 list data 没什么 好说 的 就是 把 zip 结果 转换成 列表 在行 的 render 中 我 自定义 了 输出 文件名 piehtml 其实 我们 也 可以 在 一个 页 面上 提供 多个 图表 可以用 多个 函数 将 所以 用到 图表 的 代码 包装 起来 然后 统 一调 渲染 即可 最终 效果 如下 今天 主要 讲 到了 使用 pyecharts 产生 各种 图表 的 基础 之后 还有 各种 酷 炫 的 图表 效果 等待着 我们 去 一一 实现 例如 用 地图 展现 各地区 人均 消费水平 消费 品种 等等 文 源 网络 仅供 学习 之用 如有 侵权 联系 删除 我 将 优质 的 技术文章 和 经验总结 都 汇集 在 了 我 的 公众 号 python 圈子里 在 学习 python 的 道路上 肯定会 遇见 困难 别 慌 我 这里有 一套 学习 资料 包含 本 电子书 个 教学 视频 涉及 python 基础 爬虫 框架 数据 分析 机器 学习 等 不怕 你 学不会 