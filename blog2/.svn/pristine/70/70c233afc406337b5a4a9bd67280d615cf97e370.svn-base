cpu 执行 指令 进行 一次 存储 访问 操作 最少 访问 主存 几次 cpu 执行 指令 进行 一次 存储 访问 操作 最少 访问 主存 几次 第一步 根据 虚 页号 查找 快 表 若 快 表 中有 对应 虚页 的 页 表项 则 取出 页 框 号 形成 物理地址 转 第二步 若 快 表 中 不存在 对应 虚页 的 页 表项 则 发生 tlb 缺失 转 第三步 第二步 判断 物理地址 中 的 标记 是否 和 cache 中 的 标记 相等 并且 有效 位 是否 为 若为 则 cache 命中 从 cache 中 读取 数据 或者 写 数据 到 cache 全 写 方式 下 同时 也 写 主存 若 不为 则 发生 cache 缺失 转 第四步 第三步 当 tlb 缺 失时 根据 页 表 基址 寄存器 的 值 和 虚 页号 找到 主存 中 的 页 表项 判断 有效 位 是否 为 若是 则 说明 该 虚页 在 主存 中 此时 把 该页 表 转入 tlb 中 并 取出 页 框 号 形成 物理地址 转 第二步 若不是 则 说明 该 虚页 不在 主存 中 即 发 生了 缺页 异常 此时 需要 调出 调出 操作系统 中 的 缺页 异常 处理 程序 实 现从 磁盘 读入 一个 页面 的 功能 缺页 处理 结束 后 重新 执行 当前 指令 这次 一定 能在 主存 中找到 第四步 cache 缺 失时 cpu 根据 物理地址 到 主存 读 一块 信息 到 cache 然后 读入 到 cpu 或 cpu 写 信息 到 cache 中 