mybatis 入门 四 mybatis 基本 使用 二 和 sqlsession 简单 演示 本篇 博客 的 主要内容 是 的 演示 sqlsession 的 演示 本篇 博客 的 内容 仅仅是 演示 这两个 类 的 作用 本篇 博客 的 案例 书写 形式 都不是 实际 工作中 惯用 的 书写 形式 即 本篇 博客 的 目的 仅仅是 让 自己 对 这俩 类 有 个 基本 了解 本篇 博客 内容 很简单 快速 浏览 效果 更佳 目录 一 和 sqlsession 简介 二 演示 案例 mybatistestor 案例 代码 代码 说明 代码 的 基本 架构 如果 某个 数据库 连接 不 上 会报 了解 这种 情况 以后 遇 到了 这种 错误 知道 解决 的 方向 就行 注意 resources 使用 的 是 哪一个 本 案例 的 创建 connection 仅仅 出于 演示 目的 和 以前 套路 一样 创建 连接 放在 try 块 中 关闭 连接 放在 finally 块 中一 和 sqlsession 简介 二 演示 案例 mybatistestor 案例 代码 单元测试 类 tryget 是 获取 resources 代表 资源 就是指 文本文件 asreader 是 按照 字符 流 的 方式 读取 方 法会 默认 从 当前 编译 后 class 文件 路径 下去 加载 这个 xml 文件 初始化 对象 同时 解析 文件 使 用了 构造 者 模式 利用 构造 者 模式 初始化 对象 build reader sessionfactory 加载 成功 创建 sqlsession 对象 sqlsession 对 象是 专 用于 数据库 交互 的 connection catch exceptione finallyif sqlsessionnull 如果在 中 的 代表 使用 连接池 close 则是 将 连接 回 收到 连接 池中 如果在 中 的 代表 不 使用 连接池 close 则是 调用 connectionclose 方法 关闭 sqlsessionclose catch ioexceptione 代码 说明 代码 的 基本 架构 如果 某个 数据库 连接 不 上 会报 了解 这种 情况 以后 遇 到了 这种 错误 知道 解决 的 方向 就行 其 就 报了 详细 报错 信息 随便 瞅 一眼 就行 nativemethod methodjava junitcorejava nativemethod constructorjava utiljava sqlerrorjava mysqliojava nativemethod constructorjava utiljava nativemethod socketjava mysqliojava 注意 resources 使用 的 是 哪一个 本 案例 的 创建 connection 仅仅 出于 演示 目的 和 以前 套路 一样 为了 保证 close 方法 一 定将 能够 被执行 将 创建 连接 放在 try 块 中 关闭 连接 放在 finally 块 中 