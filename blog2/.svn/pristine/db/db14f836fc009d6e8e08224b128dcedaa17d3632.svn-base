html5 canvas 实现 雷达 扫描 动画 特效 先看 一下 最终 效果 实现 思路 绘制 个 圆 绘制 一个 十字线 绘制 一个 扫描 的 指针 让 指针 转起来 雷达 构造 函数 functionradar thisrenderarr 待 渲染 对象 存储 数组 thisrotateangle 绘制 的 指针 开始 角度 thisspeedmathpi 绘制 的 指针 偏移 速度 thispointnull 存储 指针 对象 el if el canvas 创建 画布 设置 样式 varwcanvaswidth 设置 宽度 设置 高度 elappendchild canvas 添加到 指定 的 dom 对象 中 d 初始化 box radarinit box 此时 的 效果 绘制地图 个 圆 和 一个 十字 编写 圆形 的 构造 函数 构造 函数 functionball o thisx 圆心 x 坐标 thisy 圆心 y 坐标 thisr 半径 thisstartangle 开始 角度 thisendangle 结束 角度 顺时针 逆时针 方向 指定 thisstrokefalse 是否 描 边 thisfillfalse 是否 填充 thisscalex 缩放 x 比例 thisscaley 缩放 y 比例 thisinit o 初始化 o for varkeyino thiskeyokey 绘制 context varctxcontext 获取 上下文 ctxsave ctxbeginpath ctxtranslate thisxthisy if thisfill ctxmoveto ctxmoveto thisxthisy ctxscale 设定 缩放 ctxarc 画圆 if thislinewidth 线宽 thisfill 是否 填充 thisfillstyle nullctxfill if thisstroke 是否 描 边 thisstrokestyle nullctxstroke ctxrestore returnthis 编写 线段 的 构造 函数 直线 的 构造 functionline o thisxx 坐标 thisyy 坐标 thisstartx 开 始点 x 位置 thisstarty 开 始点 y 位置 thisendx 结束 点 x 位置 thisendy 结束 点 y 位置 thisthinfalse 设置 变细 系数 thisinit o o for varkeyino ctx this obj ctxbeginpath ctxtranslate objxobjy if objthin ctxtranslate if objlinewidth 设定 线宽 objstrokestyle 划线 ctxmoveto ctxlineto objendxobjendy ctxstroke ctxrestore returnthis 创建 圆 和 十字线 创建 地图 创建 几个 圆形 ballnewball x 圆心 x 坐标 y 圆心 x 坐标 r 半径 startangle 开始 角度 endanglemathpi 结束 角度 stroketrue 是否 描 边 renderarrpush ball ballnewball x 圆心 x 坐标 y 圆心 x 坐标 r 半径 startangle 开始 角度 endanglemathpi 结束 角度 stroketrue 是否 描 边 renderarrpush ball ballnewball x 圆心 x 坐标 y 圆心 x 坐标 r 半径 startangle 开始 角度 endanglemathpi 结束 角度 stroketrue 是否 描 边 renderarrpush ball ballnewball x 圆心 x 坐标 y 圆心 x 坐标 r 半径 startangle 开始 角度 endanglemathpi 结束 角度 stroketrue 是否 描 边 renderarrpush ball 创建 横着 的 线 varlinenewline renderarrpush line 创建 竖着 的 线 linenewline renderarrpush line 创建 的 图形 全部 存到 renderarr 中 然后 一次性 绘制 效果 如下 接下来 绘制 扫描 指针 在 createmap 中 加入 绘制 指针 varpointnewball x 圆心 x 坐标 y 圆心 x 坐标 r 半径 startangle 开始 角度 endanglemathpi 结束 角度 filltrue 是否 填充 fillstylegreen 填充 的 样式 renderarrpush point thispointpoint 效果 要让 这个 指针 转起来 就是 更改 指针 绘制 的 开始 角度 和 结束 角度 point 新 的 开始 角度 等于 上 一次 的 结束 角度 新 的 结束 角度 等于 每次 递增 if 达到 一个 时 重置 加入 定时器 并 清理 画布 setinterval thisupdatebind this 设置 定时 任务 清洗 画布 parseint thisw parseint thish 每次 render 的 时候 会 清理 画布 此时 执行 效果 如下 指针 不太 对 修改 一下 清理 画布 的 代码 即可 清洗 画布 thisctxfillrect parseint thisw parseint thish parseint thisw parseint thish 此时 最终 效果 如下 完整 代码 免 积分 下载 给 个 三连 再 走吧 兄弟们 