用 js 仿 探探 拖拽 卡片 的 效果 飞 卡片 的 效果 感觉 挺 酷 最后 有 美女 看 哦 程序员 就是 可以 为所欲为 目录 前两天 在 网上 看到 一个 用 vue 写 飞 卡片 的 觉得很 有意思 我 就 自己 想 写 一个 就 花 了点 时间 搞了 一下 做的 不好 望 大家 多多指教 两个 主要 的 功能 先 看看 效果 首先要 做一个 盒子 然后 生成 几张 卡片 放到 这个 盒子 里面 然 后用 js 给 卡片 设置 样式 有 几个 要注意 的 地方 根据 拖拽 的 方向 来 处理 动画 横向 就 设置 left 属性 纵向 则 设置 top 属性 超过 一定 范围 就 结束 动画 然后 将 当前 移动 的 卡片 转到 队列 的 的 第一个 位置 再 调用 reset 函数 就会 重新 设置 好 卡片 的 位置 代码 来 几个 美女 看一下 吧 不知 合 大家 口味 不给 个 三连 吧 哈哈 前两天 在 网上 看到 一个 用 vue 写 飞 卡片 的 觉得很 有意思 我 就 自己 想 写 一个 就 花 了点 时间 搞了 一下 做的 不好 望 大家 多多指教 两个 主要 的 功能 空白 的 地方 点击 最上面 开始 移动 卡片 然后 这个 卡片 会 回到 最下面 同时 其他 卡片 往上 移动 拖动 卡片 超过 多少 范围 会 飞出去 上下左右 四种 方向 拖动 中间 的 卡片 也 可以 先 看看 效果 第一次 用 视频 做 图片 做的 不好 哈哈 首先要 做一个 盒子 然后 生成 几张 卡片 放到 这个 盒子 里面 然 后用 js 给 卡片 设置 样式 有 几个 要注意 的 地方 从下 往上 每个 卡片 的 宽度 加了 px 高度 不动 margintop 和 marginleft 每个 增加了 px 每个 单独 设置 了 颜色 为了 好看 封 装了 reset 函数 初始 的 时候 调用 当 移动 动画 完成后 再次 调用 可以 重新排列 好 盒子 只需 要把 队列 中 卡片 的 顺序 调换 既 即可 重新 设置 卡片 的 样式 functionreset for 对 每 一张 卡片 设置 样式 每张 稍微 有点 不一样 widthi 每个 卡片 设置 不同 的 颜色 switch objid 看一下 盒子 初始化 好 的 模样 还行 不算 太丑 哈哈 根据 拖拽 的 方向 来 处理 动画 横向 就 设置 left 属性 纵向 则 设置 top 属性 针对 上下左右 有 不同 的 设置 if directionleft distancelt directiontop distancelt directionbottom distancegt 超过 一定 范围 就 调整 卡片 if distancegt 超过 一定 范围 就 结束 动画 然后 将 当前 移动 的 卡片 转到 队列 的 的 第一个 位置 再 调用 reset 函数 就会 重新 设置 好 卡片 的 位置 if endflag 清除 定时器 clearinterval objtimer objtimernull 把 当前 元素 从 盒子 队列 中移动 到 最前面 function item index boxstackunshift cur 添加到 队列 最前面 settimeout function reset 重新部署 盒子 设置 重写 设置 盒子 样式 的 延时 看起来 更 舒服 return 至于 拖拽 的 我 就不 多 说了 我 这个 好像 也 还 不是 很好 拖拽 有时候 感觉 会有 点卡 顿 后面 再 完善 吧 代码 空白 的 地方 点击 最上面 开始 移动 卡片 拖动 卡片 超过 多少 范围 会 飞出去 上下左右 四种 方向 拖 中间 的 也 可以 function divbox 获取 盒子 clicktranbox varboxstack 用来 存储 卡片 dom 对象 的 创建 卡片 variiltcardnumi 生成 卡片 div mousedowndrag img img div boxstackpush div 一个个 的 推入 到 盒子 队列 第一次 设置 卡片 样式 reset 重新 设置 卡片 的 样式 functionreset for 对 每 一张 卡片 设置 样式 每张 稍微 有点 不一样 widthi widthi 每个 卡片 设置 不同 的 颜色 switch objid 拖动 卡片 的 事件 函数 functiontran e targetid if targetid 拖动 当前 的 卡片 movetran target 点击 box 的 事件 函数 functiontranbox e targetid if targetiddivbox 点击 divbox 从 最上面 开始 飞 movetran 正在 移动 表示 有 卡片 正在 移动 move 函数 将不 会被 调用 if moveflag return 表示 有 卡片 正在 移动 move 函数 将不 会被 调用 if objtimer return 避免 重复 点击 moveflagtrue 设置 当前 正在 移动 stepstepvarcb function 回 调 函数 处理 初始 步 距 if topstep screentotal leftstep screentotal init returnfunction 针对 上下左右 有 不同 的 设置 if directionleft distancelt directiontop distancelt directionbottom distancegt 超过 一定 范围 就 调整 卡片 if distancegt endflagtrueif endflag 清除 定时器 clearinterval objtimer objtimernull 把 当前 元素 从 盒子 队列 中移动 到 最前面 function item index boxstackunshift cur 添加到 队列 最前面 settimeout function reset 重新部署 盒子 设置 重写 设置 盒子 样式 的 延时 看起来 更 舒服 设置 left 或者 top 作 移动 cb 鼠标 拖动 分析 获取 鼠标 实时 移动 的 坐标 mmovexmmovey 鼠标 按 下 时 的 坐标 mdownxmdownydiv 的 坐标 dxdydiv 的 新 坐标 ndxndy 最大 边界 maxxmaxy 鼠标 相对 位移 记录 鼠标 状态 要 操作 的 div 对象 鼠标 按 下 functiondrag e 获取 鼠标 按 下 时 坐标 实时 更新 div 的 坐标 鼠标 移动 e vareeevent 鼠标 按 下 时 移动 才 触发 if 获取 鼠标 移动 实时 坐标 mathabs nx gt movetran mathabs ny gt movetran ndxdxnx id ndydyny id 设置 拖动 的 边界 ndxlt ndxif ndylt ndyif ndxgtmaxx ndxmaxxif ndygtmaxy ndymaxy 把 新 div 坐标值 赋 给 div 对象 鼠标 释放 e vareeevent 获取 鼠标 移动 实时 坐标 nxlt reset 初始化 initcard 来 几个 美女 看一下 吧 不知 合 大家 口味 不动 图 就 没 搞了 这个 对 动画 要求 高 弄出来 效果 不好 我 还不 太会 弄 给 个 三连 吧 哈哈 关注 下方 公众 号 有 更多 资料 实例 代码 面试 技巧 奉上 