仿 头条 方形 进度条 刷 头条 的 时候 看到 头条 的 刷新 进度条 不错 就 自己 做了 一个 看一下 效果 看到 这个 就会 想到 怎么 去 实现 呢 绘制 方形 用 条 线段 的 方式 来 绘制 不 直接 绘制 方形 控制 右上角 往下 运动 同时 右下角 往上 运动 改变 y 左边 即可 右边 的 运动 完 以后 停止 右边 让 左上角 往下 左下角 也 往上 运动 左边 运动 完成后 停止 左边 启动 右边 重复 此 过程 先来 写好 绘制 方形 的 函数 构造 函数 o thisx 原点 坐标 xthisy 原点 坐标 ythisxx 坐标 thisyy 坐标 thisxx 坐标 thisyy 坐标 thisxx 坐标 thisyy 坐标 thisxx 坐标 thisyy 坐标 thisinit o 初始化 o for varkeyino thiskeyokey 绘制 线条 ctxsave ctxbeginpath ctxtranslate thisxthisy 设定 原点 坐标 ctxmoveto startxstarty ctxlineto endxendy if thislinewidth 线宽 thislinecap 线 帽 if thisstroke 描 边 thisstrokestyle nullctxstroke ctxrestore 绘制 context varctxcontext 绘制 好 条 线段 thisdrawline 上 边线 thisdrawline 右 边线 thisdrawline 下 边线 thisdrawline 左 边线 returnthis 来 生成 一个 方形 创建 方形 x 原点 坐标 xy 原点 坐标 yx 方形 左上角 坐标 xy 方形 左上角 坐标 yx 方形 右上角 坐标 xy 方形 右上角 坐标 yx 方形 右下角 坐标 xy 方形 右下角 坐标 yx 方形 左下角 坐标 xy 方形 左下角 坐标 ylinewidth 线宽 linecapsquare 线 帽 stroketrue 描 边 线 的 颜色 render ctx 效果 如下 如何 动起来 呢 先 来看 右边 要做到 右上角 往下 运动 只 要使 右上角 的 y 坐标 增加 就可以 加入 定时 函数 重复 的 去 增加 右上角 的 y 坐标 再 重新 绘制 出来 vardir 方向 vardisx 轴 移动 初始值 movefunction 清理 画布 ctxclearrect wh ctx move 开始 任务 此时 的 效果 是 这样 的 但是 会 一直 往下走 所以 要 限定 方向 到达 底部 后 折返 往上 并且 回到 顶部 后 再次 调整 方向 往 下在 move 函数 里面 调整 一下 即可 movefunction 清理 画布 ctxclearrect wh ctx if rectygtrectylt dirdir 改变方向 加入 右下角 的 运动 movefunction 清理 画布 ctxclearrect wh ctx if dirdir 改变方向 再把 左边 加入 运动 因为 右边 运动 完 后 切 换到 左边 左边 运动 完 停止 右边 再 运动 需要 加入 一个 参 数来 控制 movefunction 清理 画布 ctxclearrect wh if animatedirright 长方形 的 右边 在 运动 长方形 的 左边 在 运动 ctx if animatedirright if 切 换为 左边 运动 elseif 切 换为 右边 运动 此时 效果 如下 加快 一下 速度 move 把 这些 都 封装 一下 再看 一下 效果 完整 代码 gt 开始 gt 结束 if timmer return 防止 重复 点击 canvasdiv move 开始 任务 functionstop canvasdiv timmer 结束任务 timmernull 构造 函数 o thisx 原点 坐标 xthisy 原点 坐标 ythisxx 坐标 thisyy 坐标 thisxx 坐标 thisyy 坐标 thisxx 坐标 thisyy 坐标 thisxx 坐标 thisyy 坐标 o 初始化 o for varkeyino thiskeyokey 绘制 线条 ctxsave ctxbeginpath ctxtranslate thisxthisy 设定 原点 坐标 ctxmoveto startxstarty ctxlineto endxendy if thislinewidth 线宽 thislinecap 线 帽 if thisstroke 描 边 thisstrokestyle nullctxstroke ctxrestore 绘制 context varctxcontext 绘制 好 条 线段 thisdrawline 右 边线 thisdrawline 左 边线 if thisordergt 先 绘制 上面 那条 边 thisdrawline 上 边线 thisdrawline 下 边线 else 先 绘制 下面 那条 边 thisdrawline 下 边线 thisdrawline 上 边线 process div canvas canvas div d 创建 方形 x 原点 坐标 xy 原点 坐标 yx 方形 左上角 坐标 xy 方形 左上角 坐标 yx 方形 右上角 坐标 xy 方形 右上角 坐标 yx 方形 右下角 坐标 xy 方形 右下角 坐标 yx 方形 左下角 坐标 xy 方形 左下角 坐标 ylinewidth 线宽 linecapsquare 线 帽 stroketrue 描 边 线 的 颜色 order 绘制 顺序 render ctx vardir 方向 vardir 方向 vardisx 轴 移动 初始值 清理 画布 ctxclearrect wh if animatedirright ctx if animatedirright if dirlt dirlt 稍作 改造 就可以 用起来 给 个 三连 吧 兄弟们 