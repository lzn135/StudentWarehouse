基于 canvas 的 九宫格 抽奖 就是 仿 csdn 的 app 做的 能 过 审 不 引言 九宫格 抽奖 一直 就 挺 火爆 手机 端 也 经 常用 这不 来了 兴趣 写了 一波 看着 效果 还 不错 拿出来 大家 唠 唠 效果 实现 思路 绘制 出 背景 大 图 两张 图片 一张 稍 微小 并且 稍小 的 图片 颜色 更深 一些 绘制 张 白色 背景 的 小 图片 绘制 的 顺序 待会 说明 作为 奖项 卡 的 背景 一张 立即 抽奖 的 黄色 背景图片 放在 中间 在 对应 的 背景图片 上 绘制 出 奖项 图片 和 文字 完成 整个 抽奖 页面 的 布局 给 立即 抽奖 的 背景图片 添加 点击 事件 点击 后 旋转 开启 定时 任务 旋转 方式 有种 目前 写了 顺时针 一种 另外 两种 只需 在 第 步 设置 好 顺序 即可 待会 详细 说明 旋转 的 步 数 目前 设置 的 规 则是 圈 随机 一位 因 圈 是 步 圈 就是 步 加上 随机 到 可以 得到 的 步 数 有种 达到 最终 步 数 以后 清除 定时器 重置 相关 参数 根据 旋转 方形 指示 所在 的 下标 确定 中奖 情况 实现 绘制 背景 大 背景 从 坐标 开始 宽 高 是 次 背景图 xy 分 别加 从 开始 宽 高 为 颜色 稍 深 绘制 选项卡 背景 背景 img 背景 小 img 绘制 奖项 卡 背景图 绘制 选项卡 背景 绘制 张 小 背景 varimgkeyfor variilti dydydisifor varjjltj dxdxdisjif iampampj 背景 img if imgkey 中间 的 抽奖 卡片 注意 添加 的 顺序 因为 转动 的 时候 是 根据 这个 数组 来 的 if i img elseif i if j j i if j j j 说明 代码 要注意 的 点 就是 imgarr 数 组里 元素 的 摆放 顺序 此 代码 设置 的 是 顺时钟 旋转 抽奖 的 时候 是 按 imgarr 顺序 往后 取 如果 当前 是 下标 对应 的 元素 下一步 要走 的 就是 下标 对应 的 元素 再下 一步 就 下标 对应 的 元素 了 以此类推 取 完 以后 再回到 开始 取 就 达 到了 尾部 接上 头部 的 效果 所以 imgarr 的 顺序 决定 了 抽奖 时 旋转 的 顺序 数组 元素 的 下标 如图 如果 要 逆时针 怎么 设置 下标 如 下图 即可 如果 要 横着 旋转 抽奖 呢 同样 的 道理 代码 给 imgarr 数组 添加 元素 的 时候 按 下图 的 下标 添加 即可 如果 要 逆时针 怎么 设置 下标 如 下图 即可 如果 要 横着 旋转 抽奖 呢 同样 的 道理 代码 给 imgarr 数组 添加 元素 的 时候 按 下图 的 下标 添加 即可 绘制 奖项 卡 内容 图片 和 文字 这个 跟上 面的 道理 差不多 对应 上 就行 代码 很 类似 绘制 选项 图片 和 文字 绘制 张 奖项 卡 variilti dyifor varjjltj dxj 背景 img 天气 txdxtydyif i if j j j i if j contentelseif j contentelseif j i if j j j text 抽奖 指示 图 的 绘制 一个 圆角 正方形 让 它 包 裹在 奖项 卡 背景图 的 外围 这里 随机 取 的 一 个数 也 就是 奖项 卡 背景 数组 对应 的 下 标值 取到 什么 下标 就 绘制 这个 方形 图片 框住 在 对应 的 那个 背景 图上 抽奖 转动 的 时候 也 就是 让 这个 方形 图片 按 imgarr 的 顺序 的 往后 一个个 的 框住 达到 转动 的 效果 抽奖 方形 指示 图 绘制 代码 抽奖 时 转动 的 方形 图片 随机 从 出现在 一个 卡片 的 位置 当前 卡片 被 选择 下标 卡片 背景 对象 转动 方形 图片 img 此时 已经 绘制 好 全部 页面 了 点击 抽奖 我 设定 转圈 数 为 每 一圈 是 步 然后 在从 随机 一个 数字 假如 随机 到 是 总 步 数 加起来 是 步 开启 定时 任务 里面 代码 让 当前 位置 比如 上 图中 的 背包 下标 是 加 就是 我们 就从 imgarr 数组 里面 取到 下标 为 的 元素 也 就是 图中 的 谢谢 参与 让 抽奖 指示 图 的 坐标 位置 和 此 元素 的 一样 这样 就可以 包 裹住 谢谢 参与 效果 如 下图 然后 定时 任务 的 下一步 代码 当前 位置 同样 执行 递增 于是 程序 判断 下标 大于 了 于是 设 定为 下一步 就让 抽奖 指示 图 的 位置 和书 一本 的 位置 一样 以此类推 当 达 到了 总 布 数 的 时候 就 清除 定时器 判断 中奖 情况 弹出 中奖 提示 鼠标 点击 事件 e varthatthis 随机 从 出现在 一个 卡片 的 位置 转 两圈 随机数 转圈 总 步 数 thismovebind this 转动 卡片 背景 对象 更新 方形 的 位置 其实 只有 一个 元 素不 循环 也 可以 consolelog 停止 clearinterval thistimmer function alert res thisrender 欢迎 各位 大佬 点 赞 评论 关注 谢谢 源码 下载方式 少量 积分 下载 代码 方式 关注 下方 公众 号 回复 下载 代码 更多 源码 基于 canvas 的 手风琴 特效 附 源码 抖 音 很 火 的 华为 太空人 表盘 附 源码 基于 javascript 页面 动态 验证码 附 源码 基于 javascript 的 拖动 滑块 拼图 验证 附 源码 基于 javascript 的 幸运 大转盘 附 源码 抖 音 很 火 的 罗盘 时钟 附 源码 基于 javascript 的 俄罗斯方块 小游戏 附 源码 基于 javascript 的 贪吃蛇 游戏 附 源码 基于 javascript 的 拼图游戏 附 源码 用 javascript 给 女儿 做的 烟花 特效 附 源码 老父亲 给 女儿 做的 下雪 特效 满足 女儿 看 雪 的 愿望 附 源码 雷达 扫描 特效 附 源码 香港黄金 配角 吴孟达 去世 后 程序员 以 轮播 图 来 悼念 达 叔 达 叔 一路 走好 附 源码 仿 抖 音 刷新 进度条 附 源码 仿 头条 方形 刷新 进度条 附 源码 仿 加速 球 水波 评分 特效 附 源码 基 基于 canvas 的 刮刮卡 附 源码 原生 js 写 的 左侧 飞入 拼图 特效 你 是 喜欢 美女 单飞 还是 双飞 附 源码 用 js 写 的 旋转 木马 在 新年 献给 各位 刚 登基 的 皇帝 让 你 的 后宫 转起来 程序员 就是 可以 为所欲为 附 源码 用 js 写 的 轮播 图 八位 女明星 你 翻 谁 的 牌 程序员 就是 可以 为所欲为 附 源码 原生 js 实现 美女 拼图 把 美女 老婆 抱 回家 个 美女 够不够 程序员 就是 可以 为所欲为 附 源码 用 js 仿 探探 拖拽 卡片 的 效果 飞 卡片 的 效果 感觉 挺 酷 最后 有 美女 看 哦 附 源码 老婆 说 程序员 不懂 浪漫 程序员 默默 拿 起了 键盘 这就 亲手 带你 去看 流星雨 女人 真的 会 影响 男人 拔刀 的 速度 附 源码 学生 成绩 管理 系统 有 源码 你 的 毕 设 我 的 心 附 源码 