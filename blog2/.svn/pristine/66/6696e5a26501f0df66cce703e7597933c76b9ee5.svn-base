mysql 中 group by 和 order by 同时 使用 无效 的 替代 方案 前言 最近 一年 由于 工作需要 大部分 使用 的 都是 nosql 数据库 对 关系 型 数据库 感觉 越来越 陌生 一个 由 groupby 和 orderby 引发 的 血案 由此 而生 在此 做个 记录 以备不时之需 需求 得到 所有 barcode 的 最新 的 一条 数据 首先 看一下 整体 的 表 结构 现在 查找 每个 barcode 中 最新 的 数据 由于 数据 太多 不是 很好 看到 效果 我们 就拿 一个 barcode 为 的 数据 做 示例 试错 由于 很久 没有 写过 sql 了 所以 首先 想 到了 用 groupby 和 orderby 组合 查询 结果 如下 可以 看到 这 并不是 我们 想要 的 结果 orderby 没有 任何 效果 接下 来就 试一下 运用 子 查询 的 方式 将 两者 结合 先 排序 再 分组 selectfrom 结果 还是 令人 失望 的 解决 上面 两种 方式 试 过了 虽然 结果 让 人 伤心 但是 工作 还是 要继续 于是就 网上 找 各种 资料 看 能否 用 其他 方式 解决问题 偶然间 看到了 groupconcat 可以 实现 分组 排序 就拿 来试 一试 结果 如下 可以 看到 顺序 没问题 了 但是 所有 数据 都被 拼接 在一起 了 需要 进一步 做 截取 字符 的 处理 groupconcat groupconcat 到 这里 就 发现 已经 实现 我们 刚开始 的 需求 了 总结 groupby 和 orderby 同时 使 用是 没有 效果 的 可以 使用 groupconcat 和 groubby 替代 groupconcat 内 可以 实现 字段 排序 参考 文章 首发 地址 转 载于 