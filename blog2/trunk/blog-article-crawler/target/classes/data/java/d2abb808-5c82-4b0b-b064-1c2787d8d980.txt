用 javascript 实现 网 红 太空人 表盘 绝对 详细 绝对 原创 附 源码 下载 引言 网上 最近 太空人 表盘 很 火 之前 看到 有 个 兄弟 用 svg 写 的 但是 我 也 不会 这个 啊 我 就 琢磨 着 用 canvas 写了 一个 效果 感觉 还 不错 拿出来 大家 唠 唠 效果图 思路 分 两个 画布 来 绘制 画布 用来 放置 不动 的 东西 背景 表盘 文字 信息 画布 用来 绘制 太空人 的 转动 和 时间 的 更新 经常 要 重新 绘制 太空人 的 转动 的话 就是 用 很多 图片 来 切换 达到 转动 的 效果 绘制 表盘 圆形 构造 函数 构造 函数 functioncircle o thisx 圆心 x 坐标 thisy 圆心 y 坐标 thisr 半径 thisstartangle 开始 角度 thisendangle 结束 角度 顺时针 逆时针 方向 指定 thisstrokefalse 是否 描 边 thisfillfalse 是否 填充 thisscalex 缩放 x 比例 thisscaley 缩放 y 比例 o 初始化 o for varkeyino thiskeyokey 绘制 context varctxcontext 获取 上下文 ctxsave ctxbeginpath ctxtranslate thisxthisy if thisfill ctxmoveto ctxmoveto thisxthisy ctxscale 设定 缩放 ctxarc 画圆 if thislinewidth 线宽 thisfill 是否 填充 thisfillstyle nullctxfill if thisstroke 是否 描 边 thisstrokestyle nullctxstroke ctxrestore returnthis 绘制 代码 绘制 表盘 绘制 外面 的 大圆 cilclenewcircle xx 圆心 x 坐标 yy 圆心 x 坐标 r 半径 startangle 开始 角度 endanglemathpi 结束 角度 cilcle 绘制 第 个 圆 cilclenewcircle xx 圆心 x 坐标 yy 圆心 x 坐标 r 半径 startangle 开始 角度 endanglemathpi 结束 角度 cilcle 此时 页面 的 效果 绘制 分隔线 构造 函数 直线 的 构造 functionline o thisxx 坐标 thisyy 坐标 thisstartx 开 始点 x 位置 thisstarty 开 始点 y 位置 thisendx 结束 点 x 位置 thisendy 结束 点 y 位置 thisthinfalse 设置 变细 系数 thisinit o o for varkeyino ctx innerrender this obj ctxsave ctxbeginpath ctxtranslate objxobjy if objthin ctxtranslate if objlinewidth 设定 线宽 objstrokestyle 划线 ctxmoveto ctxlineto objendxobjendy ctxstroke ctxrestore returnthis 绘制 代码 分隔线 的 绘制 line linenewline line linenewline line linenewline line linenewline line linenewline line 此时 效果 绘制 文字 构造 函数 文字 的 构造 函数 functiontext o thisxx 坐标 thisyy 坐标 thisdisxx 坐标 偏移量 thisdisyy 坐标 偏移量 thistext 内容 thisfontnull 字体 对齐 方式 thisinit o o for varkeyino context this obj ctxbeginpath ctxtranslate objxobjy if objangle 根据 旋转 角度 来 执行 旋转 ctxrotate objanglemathpi if objfont objtextalign objfill 是否 填充 objfillstyle nullctxfilltext if objstroke 是否 描 边 objstrokestyle ctxrestore returnthis 绘制 组装 文字 信息 varcontentxy 天气 xycontent 空气 良好 vartextnewtext text xycontent 晴天 vartextnewtext text 气温 text 绘制 最小 温度 text 绘制 最大 温度 text 电量 text 心率 text text 步 数 text 睡眠 xycontent 睡眠 vartextnewtext text text 距离 xycontent 距离 vartextnewtext text text 效果 如下 绘制 修饰 图片 图片 构造 函数 图片 对象 imagedraw 构造 函数 oobj thisidthisimage 图片 对象 必填 thissx 图片 切片 开始 x 位置 显示 整个 图片 的 时候 不需要 填 thissy 图片 切片 开始 y 位置 显示 整个 图片 的 时候 不需要 填 thisswidth 图片 切片 开始 宽度 显示 整个 图片 的 时候 不需要 填 thissheight 图片 切片 开始 高度 显示 整个 图片 的 时候 不需要 填 thisdx 图片 目标 x 位置 必填 thisdy 图片 目标 y 位置 必填 thisdwidth 图片 目标 显示 宽度 宽度 不 缩放 时 不 必填 thisdheight 图片 目标 高度 高度 高度 不 缩放 时 不 必填 thisinit oobj oobj thislolobjfor varkeyino context draw contextthis functiondraw contextobj if objimagegettype objdx objdy undefined thrownewerror 绘制 图片 缺失 参数 objdxobjdy if gettype objsx objsy 裁剪 图片 显示 时候 有 缩放 ctxdrawimage elseif ctxdrawimage 原始 图片 显示 时候 有 缩放 objimage 原始 图片 显示 时候 无 缩放 ctxrestore pos 鼠标 位置 的 xy 要 分别 大于 dxdy 且 xy 要 分别 小于 表示 处于 当前 图片 对象 范围内 绘制 组装 图片 对象 信息 绘制 电量 img 绘制 太阳 img 绘制 最大 温度 img 绘制 最小 温度 img 绘制 心率 img 绘制 步 数 img 此时 的 效果 绘制 太空人 代码 组装 太空人 图片 对象 信息 img 此时 效果 绘制 时间 入口 代码 绘制 日期 thisdrawhour 绘制 小时 thisdrawminute 绘制 分钟 thisdrawsecond 绘制 秒钟 thisdrawweekday 绘制 周 绘制 日 绘制 农历 绘制 小时 绘制 小时 小时 xycontent contentlength content content vartextnewtext text thishourobjtext 绘制 号 text 绘制 分钟 秒钟 绘制 分钟 分 xycontent contentlength content content vartextnewtext text 绘制 秒钟 秒 xycontent contentlength content content vartextnewtext text 绘制 星期 日期 绘制 星期 text 绘制 日 小时 xycontent contentlength content content vartextnewtext text 绘制 农历 绘制 农历 日 text 效果 如下 到现在 的话 整体 效果 已经 完 成了 接下来 就是 要 动起来 太空人 转动 设置 定时 任务 每次 更换 一张 图片 绘制 代码 太空人 转动 不断 的 更新 图片 即可 thisimagekeyif 效果 时间 更新 更新 秒 秒钟 转动 thissecondif thissecond 到达 以后 设置 为 更新 分钟 contentlength content content 更新 分钟 分钟 更新 thisminuteif thisminute contentlength content content 更新 小时 时钟 更新 thishourif thishour contentlength content content 更 新日 农历 日 更 新日 日期 递增 更新 周 几 if 大于 本月 最大 天数 就 切 换到 日 更新 月份 月 更新 thismonthgt thismonth 农历 日期 更新 更新 星期 更新 星期 几 thisday 大于 则 重置 if thisdaygt thisday 数组 中 获取 周 几 最终 效果 兄弟们 给 个 三连 支持 一下 谢谢 哇 源码 下载方式 完整 代码 下载方式 关注 下方 公众 号 回复 下载 代码 更多 源码 基于 canvas 的 手风琴 特效 附 源码 抖 音 很 火 的 华为 太空人 表盘 附 源码 基于 javascript 页面 动态 验证码 附 源码 基于 javascript 的 拖动 滑块 拼图 验证 附 源码 基于 javascript 的 幸运 大转盘 附 源码 抖 音 很 火 的 罗盘 时钟 附 源码 基于 javascript 的 俄罗斯方块 小游戏 附 源码 基于 javascript 的 贪吃蛇 游戏 附 源码 基于 javascript 的 拼图游戏 附 源码 用 javascript 给 女儿 做的 烟花 特效 附 源码 老父亲 给 女儿 做的 下雪 特效 满足 女儿 看 雪 的 愿望 附 源码 雷达 扫描 特效 附 源码 香港黄金 配角 吴孟达 去世 后 程序员 以 轮播 图 来 悼念 达 叔 达 叔 一路 走好 附 源码 仿 抖 音 刷新 进度条 附 源码 仿 头条 方形 刷新 进度条 附 源码 仿 加速 球 水波 评分 特效 附 源码 基于 canvas 的 刮刮卡 附 源码 原生 js 写 的 左侧 飞入 拼图 特效 你 是 喜欢 美女 单飞 还是 双飞 附 源码 用 js 写 的 旋转 木马 在 新年 献给 各位 刚 登基 的 皇帝 让 你 的 后宫 转起来 程序员 就是 可以 为所欲为 附 源码 用 js 写 的 轮播 图 八位 女明星 你 翻 谁 的 牌 程序员 就是 可以 为所欲为 附 源码 原生 js 实现 美女 拼图 把 美女 老婆 抱 回家 个 美女 够不够 程序员 就是 可以 为所欲为 附 源码 用 js 仿 探探 拖拽 卡片 的 效果 飞 卡片 的 效果 感觉 挺 酷 最后 有 美女 看 哦 附 源码 老婆 说 程序员 不懂 浪漫 程序员 默默 拿 起了 键盘 这就 亲手 带你 去看 流星雨 女人 真会 影响 拔刀 的 速度 附 源码 学生 成绩 管理 系统 有 源码 你 的 毕 设 我 的 心 附 源码 