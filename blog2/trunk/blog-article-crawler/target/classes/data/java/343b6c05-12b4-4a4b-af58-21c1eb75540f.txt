2021 最新版 java 后端 面试题 java 基础 部分 前言 很多 朋友 问 如何 短时间 突击 java 通过 面试 面试 前 还是 很有 必要 针对性 的 刷 一些 题 很多 朋友 的 实战 能力 很强 但是 理论 比较 薄弱 面试 前 不做 准备 是 很 吃亏 的 这里 整 理了 很多 面试 常 考 的 一些 面试题 希望能 帮助 到你 面试 前 的 复习 并且 找到 一个 好 的 工作 也 节省 你 在 网上 搜索 资料 的 时间 来 学习 整理 的 这些 java 面试题 包括 java 基础 java 多线程 与 并发 编程 消息 中间件 mq 分布式 与 微 服务 持续 更新 中 完整版 java 面试题 地址 道 java 面试题 总结 含答案 解析 内容 地址 java 基础 本文 多线程 与 并发 未 更新 spring 未 更新 未 更新 mybatis 未 更新 mysql 未 更新 redis 未 更新 分布式 与 微 服务 未 更新 mq 未 更新 面向对象 什么 是 面向对象 对比 面向 过程 是 两种 不同 的 处理问题 的 角度 面向 过程 更 注重 事情 的 每一个 步骤 及 顺序 面向对象 更 注重 事情 有 哪些 参与者 对象 及 各自 需要 做什么 比如 洗衣机 洗衣服 面向 过程 会将 任务 拆解 成 一系列 的 步骤 函数 打开 洗衣机 gt 放 衣服 gt 放 洗衣粉 gt 清洗 gt 烘干 面向对象 会 拆出 人和 洗衣机 两个 对 象人 打开 洗衣机 放 衣服 放 洗衣粉 洗衣机 清洗 烘干 从 以上 例子 能看 出 面向 过程 比较 直接 高效 而 面向对象 更 易于 复用 扩展 和 维护 面向对象 封装 封装 的 意义 在于 明确 标识 出 允许 外部 使用 的 所有 成员 函数 和 数据项 内部 细节 对 外部 调用 透明 外部 调用 无需 修改 或者 关心 内部 实现 javabean 的 属性 私有 提供 getset 对外 访问 因为 属性 的 赋值 或者 获取 逻辑 只能 由 javabean 本身 决定 而 不能 由 外部 胡乱 修改 stringname 该 name 有 自己 的 命名 规则 明显 不能 由 外部 直接 赋值 orm 框架 操作 数据库 我们 不需要 关心 链接 是 如何 建立 的 sql 是 如何 执行 的 只需要 引入 mybatis 调 方法 即可 继承 继承 基 类 的 方法 并 做出 自己 的 改变 和 或 扩展 子类 共性 的 方法 或者 属性 直接 使用 父 类 的 而 不需要 自己 再 定义 只需 扩展 自己 个性化 的 多态 基于 对象 所属 类 的 不同 外部 对 同一个 方法 的 调用 实际 执行 的 逻辑 不同 继承 方法 重写 父 类 引用 指向 子类 对象 父 类 类型 变量名 new 子类 对象 变量名 方 法名 无法 调用 子类 特有 的 功能 开发工具 运行时 环境 虚拟机 和 equals 比较 对比 的 是 栈 中 的 值 基本 数据类型 是 变量值 引用 类型 是 堆 中 内存 对象 的 地址 equalsobject 中 默认 也是 采用 比较 通常会 重写 objectobj return thisobj objectanobject if thisanobject returntrueif string n if vivi 上述 代码 可以 看出 string 类 中被 复写 的 equals 方法 其实是 比较 两个 字符串 的 内容 stringargs hello stringstrstr 引用 传递 strstr strstr strstr strequals str strequals str strequals str truehashcode 与 equalshashcode 介绍 hashcode 的 作 用是 获取 哈希 码 也 称为 散 列 码 它 实际上 是 返回 一个 int 整数 这个 哈希 码 的 作 用是 确定 该 对象 在 哈希 表 中 的 索引 位置 hashcode 定义 在 jdk 的 objectjava 中 java 中 的 任何 类 都 包含 有 hashcode 函数 散 列表 存储 的 是 键值 对 keyvalue 它 的 特点是 能 根据 键 快速 的 检索 出 对应 的 值 这 其 中就 利用 到了 散 列 码 可以 快速 找到 所 需要 的 对象 为什么 要有 hashcode 以 hashset 如何 检查 重复 为 例子 来说 明为 什么 要有 hashcode 对象 加入 hashset 时 hashset 会 先 计算 对象 的 hashcode 值 来 判断 对象 加入 的 位置 看 该 位置 是否 有 值 如果 没有 hashset 会 假设 对象 没有 重复 出现 但是 如果 发现有 值 这时 会 调用 equals 方法来 检查 两个 对象 是否 真的 相同 如果 两者 相同 hashset 就不会 让 其 加入 操作 成功 如果 不同 的话 就会 重新 散 列到 其他 位置 这样 就 大大 减 少了 equals 的 次数 相应 就 大大 提高了 执行 速度 如果 两个 对象 相等 则 hashcode 一定 也是 相同 的 两个 对象 相等 对 两个 对象 分别 调用 equals 方法 都 返回 true 两个 对象 有 相同 的 hashcode 值 它们 也 不一 定是 相等 的 因此 equals 方法 被 覆盖 过 则 hashcode 方法 也 必须 被 覆盖 hashcode 的 默认 行为 是 对 堆上 的 对象 产生 独特 值 如果 没有 重写 hashcode 则 该 class 的 两个 对象 无论如何 都不会 相等 即使 这两个 对象 指向 相同 的 数据 final 最终 的 修饰 类 表示 类 不 可被 继承 修饰 方法 表示 方法 不可 被 子类 覆盖 但是 可以 重载 修饰 变量 表示 变量 一旦 被 赋值 就不 可以 更改 它 的 值 修饰 成员 变量 如果 final 修饰 的 是 类 变量 只 能在 静态 初始化 块 中 指定 初始值 或者 声明 该类 变量 时 指定 初始值 如果 final 修饰 的 是 成员 变量 可以 在 非 静态 初始化 块 声明 该 变量 或者 构造 器 中 执行 初始值 修饰 局部变量 系统 不 会为 局部变量 进行 初始化 局部变量 必 须由 程序员 显示 初始化 因此 使用 final 修饰 局部变量 时 即可以 在 定义 时 指定 默认值 后面 的 代码 不 能对 变量 再 赋值 也 可以 不 指定 默认值 而在 后面 的 代码 中 对 final 变量 赋 初值 仅 一次 再 声明 的 时候 就需要 赋值 或者 静态 代码 块 赋值 再 声明 的 时候 就需要 赋值 或者 代码 块 中 赋值 或者 构造 器 赋值 stringargs finalintlocala 局部变量 只 声明 没有 初始化 不会 报错 与 final 无关 locala 在 使用 之前 一 定要 赋值 locala 但是 不允许 第二次 赋值 修饰 基本 类型 数据 和 引用 类型 数据 如果是 基本 数据类型 的 变量 则 其 数值 一旦 在 初始化 之后 便 不能 更改 如果是 引用 类型 的 变量 则 在对 其 初始化 之后 便 不能 再让 其 指向 另一个 对象 但是 引用 的 值 是 可变 的 合法 iarrnull 非法 对 iarr 不能 重新 赋值 psetage 合法 pnull 非法 为什么 局部 内 部类 和 匿名 内 部类 只能 访问 局部 final 变量 编译 之后 会 生成 两个 class 文件 stringargs 局部 final 变量 finalintb jdk 在这里 做了 优化 不用 写 语法 糖 但 实际上 也是 有的 也 不能 修改 finalinta 匿名 内 部类 newthread publicvoidrun a b start finalintx x age newinclass inprint 首先 需要 知道 的 一点 是 内 部类 和 外 部类 是 处于 同一个 级别 的 内 部类 不会 因为 定义 在 方法 中 就会 随着 方法 的 执行 完毕 就被 销毁 这里 就会 产生 问题 当 外 部类 的 方法 结束时 局部变量 就 会被 销 毁了 但是 内 部类 对象 可能 还 存在 只有 没有人 再 引 用它 时 才会 死亡 这里 就 出现 了 一个 矛盾 内 部类 对象 访 问了 一个 不存在 的 变量 为了 解决 这个 问题 就将 局部变量 复制 了 一份 作为 内 部类 的 成员 变量 这样 当 局部变量 死亡 后 内 部类 仍 可以 访问 它 实际 访问 的 是 局部变量 的 copy 这样 就好像 延长 了 局部变量 的 生命周期 将 局部变量 复 制为 内 部类 的 成员 变量 时 必须 保证 这两个 变量 是 一样 的 也 就是 如果 我们 在内 部类 中 修 改了 成员 变量 方法 中 的 局部变量 也 得 跟着 改变 怎么 解决问题 呢 就将 局部变量 设置 为 final 对 它 初始化 后 我 就 不让 你 再去 修改 这个 变量 就 保证 了 内 部类 的 成员 变量 和 方法 的 局部变量 的 一致性 这 实际上 也是 一种 妥协 使得 局部变量 与 内 部类 内 建立 的 拷贝 保持一致 是 final 修饰 的 不 可变 每次 操作 都会 产生 新 的 string 对象 stringbuffer 和 stringbuilder 都是 在 原 对象 上 操作 stringbuffer 是 线程 安全 的 stringbuilder 线程 不安全 的 stringbuffer 方法 都是 synchronized 修饰 的 性能 场景 经常 需要 改变 字符串 内容 时 使用 后面 两个 优先 使用 stringbu uilder 多线程 使用 共享 变量 时 使用 stringbuffer 重载 和 重写 的 区别 重载 发 生在 同一个 类 中方 法名 必须 相同 参数 类型 不同 个数 不同 顺序 不同 方法 返回值 和 访问 修饰符 可以 不同 发生 在 编译 时 重写 发 生在 父 子类 中方 法名 参数 列表 必须 相同 返回值 范围 小于 等于 父 类 抛出 的 异常 范围 小于 等于 父 类 访问 修饰符 范围 大于 等于 父 类 如果 父 类 方法 访问 修饰符 为 private 则 子类 就不能 重写 该 方法 publicintadd intastringb publicstringadd intastringb 编译 报错 接口 和 抽象类 的 区别 抽象类 可以 存在 普通 成员 函数 而 接 口中 只能 存在 publicabstract 方法 抽象类 中 的 成员 变量 可 以是 各种类型 的 而 接 口中 的 成员 变量 只能 是 类型 的 抽象类 只能 继承 一个 接口 可以 实现 多个 接口 的 设计 目的 是 对 类 的 行为 进行 约束 更 准确 的 说是 一种 有 约束 因为 接口 不能 规定 类 不可以 有 什么 行为 也 就是 提供 一种 机制 可以 强制 要求 不同 的 类 具有 相同 的 行为 它 只 约束了 行为 的 有无 但 不对 如何 实现 行为 进行 限制 而 抽象类 的 设计 目的 是 代码 复用 当 不同 的 类 具有 某些 相同 的 行为 记为 行为 集合 a 且 其中 一部分 行为 的 实现 方式 一致 时 a 的 非 真 子集 记为 b 可以 让 这些 类 都 派 生于 一个 抽象类 在 这个 抽象类 中 实现 了 b 避免 让 所有 的 子类 来 实现 b 这就 达 到了 代码 复用 的 目的 而 a 减 b 的 部分 留给 各个 子类 自己 实现 正是 因为 ab 在这里 没有 实现 所以 抽象类 不允许 实例 化 出来 否则 当 调 用到 ab 时 无法 执行 抽象类 是 对 类 本质 的 抽象 表达 的 是 isa 的 关系 比如 bmwisacar 抽象类 包含 并 实现 子类 的 通用 特性 将 子类 存在 差异化 的 特性 进行 抽象 交由 子类 去 实现 而 接口 是 对 行为 的 抽象 表达 的 是 likea 的 关系 比如 像 飞行器 一样 可以 飞 但 其 本质上 isabird 接口 的 核心 是 定义 行为 即 实现 类 可以 做什么 至于 实现 类 主体 是 谁是 如何 实现 的 接口 并不 关心 使用 场景 当你 关注 一个 事物 的 本质 的 时候 用 抽象类 当你 关注 一个 操作 的 时候 用 接口 抽象类 的 功能 要 远超过 接口 但是 定义 抽象类 的 代 价高 因为 高级 语言 来说 从 实际 设计 上 来说 也是 每个 类 只能 继承 一个 类 在 这个 类 中 你 必须 继承 或 编写出 其所 有 子类 的 所有 共性 虽然 接口 在 功能 上会 弱化 许多 但是 它 只是 针对 一个 动作 的 描述 而且 你 可以 在 一个 类 中 同时 实现 多个 接口 在 设计阶段 会 降低 难度 list 和 set 的 区别 list 有序 按 对象 进入 的 顺序 保存 对象 可 重复 允许 多个 null 元素 对象 可以 使用 iterator 取出 所有 元素 在 逐一 遍历 还可 以 使用 get intindex 获取 指定 下标 的 元素 set 无序 不可 重复 最多 允许 有 一个 null 元素 对象 取 元素 时 只 能用 iterator 接口 取得 所有 元素 在 逐一 遍历 各个 元素 arraylist 和 linkedlist 区别 arraylist 基于 动态 数组 连续 内存 存储 适合 下标 访问 随机 访问 扩容 机制 因为 数组 长度 固定 超出 长度 存 数据 时 需要 新建 数组 然后 将 老 数组 的 数据 拷贝到 新 数组 如果 不是 尾部 插入 数据 还会 涉及到 元素 的 移动 往后 复制 一份 插入 新元素 使用 尾 插 法 并 指定 初始 容量 可以 极大 提升 性能 甚至 超过 linkedlist 需要 创建 大量 的 node 对象 linkedlist 基于 链表 可以 存储 在 分散 的 内存 中 适合做 数据 插入 及 删除 操作 不适合 查询 需要 逐一 遍历 遍历 linkedlist 必须 使用 iterator 不能 使用 for 循环 因为 每次 for 循环 体内 通过 get i 取得 某一 元素 时 都 需 要对 list 重新 进行 遍历 性能 消耗 极大 另外 不要 试图 使用 indexof 等 返回 元素 索引 并 利用 其 进行 遍历 使用 indexlof 对 list 进行了 遍历 当 结果 为 空 时会 遍历 整个 列表 hashmap 和 hashtable 有 什么区别 其 底层 实现 是什么 区别 hashmap 方法 没有 synchronized 修饰 线程 非 安全 hashtable 线程 安全 hashmap 允许 key 和 value 为 null 而 hashtable 不允许 底层 实现 数组 链表 实现 jdk 开始 链表 高度 到 数组 长度 超过 链表 转变为 红 黑 树 元素 以内 部类 node 节点 存在 计算 key 的 hash 值 二次 hash 然后 对数 组 长度 取 模 对 应到 数组 下标 如果 没有 产生 hash 冲突 下标 位置 没有 元素 则 直接 创建 node 存入 数组 如果 产生 hash 冲突 先 进行 equal 比较 相同 则 取代 该 元素 不同 则 判断 链表 高度 插入 链表 链表 高度 达到 并且 数组 长度 到 则 转变为 红 黑 树 长度 低于 则将 红 黑 树 转回 链表 key 为 null 存在 下标 的 位置 数组 扩容 原理 jdk 和 jdk 版本 的 区别 jdk 数据结构 一个 segment 中 包含 一个 hashentry 数组 每个 hashentry 又是 一个 链表 结构 元素 查询 二次 hash 第一次 hash 定位 到 segment 第二次 hash 定位 到 元素 所在 的 链表 的 头部 锁 segment 分段 锁 segment 继承 了 reentrantlock 锁定 操作 的 segment 其他 的 segment 不受 影响 并发 度 为 segment 个数 可以 通过 构造 函数 指定 数组 扩容 不会 影响 其他 的 segmentget 方法 无需 加锁 volatile 保证 jdk 数据结构 红 黑 树 node 的 val 和 next 都用 volatile 修饰 保证 可 见性 查找 替换 赋值 操作 都 使用 cas 锁 锁 链表 的 head 节点 不影响 其他 元素 的 读写 锁 粒度 更 细 效率 更高 扩容 时 阻塞 所有 的 读写 操作 并发 扩容 读 操作 无 锁 node 的 val 和 next 使用 volatile 修饰 读写 线程 对 该 变量 互相 可见 数组 用 volatile 修饰 保证 扩容 时 被 读 线程 感知 什么 是 字节 码 采用 字节 码 的 好处 是什么 java 中 的 编译器 和 解释 器 java 中 引 入了 虚拟机 的 概念 即在 机器 和 编译程序 之间 加 入了 一层 抽象 的 虚拟 的 机器 这台 虚拟 的 机器 在 任何 平 台上 都 提供给 编译程序 一个 的 共同 的 接口 编译程序 只需要 面向 虚拟机 生成 虚拟机 能够 理解 的 代码 然 后由 解释 器 来 将 虚拟机 代码 转 换为 特定 系统 的 机器码 执 行在 java 中 这种 供 虚拟机 理解 的 代码 叫做 字节 码 即 扩展 名为 class 的 文件 它不 面向 任何 特定 的 处理器 只 面向 虚拟机 每一种 平台 的 解释 器 是 不同 的 但是 实现 的 虚拟机 是 相同 的 java 源程序 经过 编译器 编译 后 变成 字节 码 字节 码 由 虚拟机 解释 执行 虚拟机 将 每 一条 要 执行 的 字节 码 送给 解释 器 解释 器 将其 翻译成 特定 机器 上 的 机器码 然后 在 特定 的 机器 上 运行 这也 就是 解释 了 java 的 编译 与 解释 并存 的 特点 java 源代码 gt 编译器 gtjvm 可执行 的 java 字节 码 即 虚拟 指令 gtjvmgtjvm 中 解释 器 gt 机器 可执行 的 二进制 机器码 gt 程序 运行 采用 字节 码 的 好处 java 语言 通过 字节 码 的 方式 在 一定 程度 上 解决 了 传统 解释 型 语言 执行 效率 低 的 问题 同时 又 保留 了 解释 型 语言 可 移植 的 特点 所以 java 程序 运行时 比较 高效 而且 由于 字节 码 并不 专 对 一种 特定 的 机器 因此 java 程序 无须 重新 编译 便 可在 多种 不同 的 计算 机上 运行 java 中 的 异常 体系 java 中 的 所有 异常 都 来自 顶级 父 类 下有 两个 子类 exception 和 errorerror 是 程序 无法 处理 的 错误 一旦 出现 这个 错误 则 程序 将 被迫 停止 运行 exception 不会 导致 程序 停止 又 分为 两个 部分 运行时 异常 和 检查 异常 常常 发 生在 程序 运行 过程 中会 导致 程序 当前 线程 执行 失败 常常 发 生在 程序 编译 过程 中会 导致 程序 编译 不通过 java 类 加载 器 jdk 自带 有 三个 类 加载 器 是 extclassloader 的 父 类 加载 器 默认 负责 加载 javahomelib 下 的 jar 包 和 class 文件 extclassloader 是 appclassloader 的 父 类 加载 器 负责 加载 javahomelibext 文件 夹下 的 jar 包 和 class 类 appclassloader 是 自定义 类 加载 器 的 父 类 负责 加载 classpath 下 的 类 文件 系统 类 加载 器 线程 上下文 加载 器 继承 classloader 实现 自定义 类 加载 器 双亲 委托 模型 双亲 委派 模型 的 好处 主要 是为了 安全性 避免 用户 自己 编写 的 类 动态 替换 java 的 一些 核心 类 比如 string 同时 也 避免了 类 的 重复 加载 因为 jvm 中 区分 不 同类 不仅仅是 根据 类 名 相同 的 class 文件 被 不同 的 classloader 加载 就是 不同 的 两个 类 gc 如何 判断 对象 可以 被 回收 引用 计数 法 每个 对象 有 一个 引用 计数 属性 新增 一个 引用 时 计数 加 引用 释放 时 计数 减 计数 为时 可以 回收 可达性 分析法 从 gcroots 开始 向下 搜索 搜索 所 走过 的 路径 称为 引用 链 当 一个 对象 到 gcroots 没有 任何 引用 链 相连 时 则 证明 此 对 象是 不可用 的 那么 虚拟机 就 判断 是 可回收 对象 引用 计数 法 可能会 出现 a 引 用了 bb 又 引 用了 a 这时候 就算 他们 都 不再 使 用了 但 因为 相互 引用 计数器 永远 无法 被 回收 gcroots 的 对象 有 虚拟机 栈 栈 帧 中 的 本地 变 量表 中 引用 的 对象 方法 区 中 类 静态 属性 引用 的 对象 方法 区 中 常量 引用 的 对象 本地 方法 栈 中 jni 即 一般 说的 native 方法 引用 的 对象 可达性 算法 中 的 不 可达 对象 并不是 立即 死亡 的 对象 拥有 一次 自我 拯救 的 机会 对象 被 系统 宣告 死亡 至少 要 经历 两次 标记 过程 第一次 是 经过 可达性 分析 发现 没有 与 gcroots 相连接 的 引用 链 第二次 是 在 由 虚拟机 自动 建立 的 finalizer 队列 中 判断 是否 需要 执行 finalize 方法 当 对象 变成 gcroots 不 可达 时 gc 会 判断 该 对象 是否 覆 盖了 finalize 方法 若 未 覆盖 则 直接 将其 回收 否则 若 对象 未 执行 过 finalize 方法 将其 放入 fqueue 队列 由 一 低 优先级 线程 执行 该 队列 中 对象 的 finalize 方法 执行 finalize 方法 完毕 后 gc 会 再次 判断 该 对象 是否 可达 若不 可达 则 进行 回收 否则 对象 复活 每个 对象 只能 触发 一次 finalize 方法 由于 finalize 方法 运行 代价 高昂 不确定性 大 无法 保证 各个 对象 的 调用 顺序 不 推荐 大家 使用 建议 遗忘 它 