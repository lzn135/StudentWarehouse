javascript html5 canvas 做的 拼图游戏 简单 易懂 趁着 摸鱼 的 时间 写了 个 拼图 小游戏 操作 简单 提神醒脑 效果图 最后 的 完 成了 好 像被 遮 住了 哈哈 实现 思路 用到 canvas 的 drawimage 方法 使用 个 参数 的 方式 来 将 大 图片 切成 一张张 的 小 图 同时 将 每个 小 图片 存储 到 对应 的 数组 中 在 切 图 的 同时 用 两个 数组 keys 和 origkeys 存取 小 图 的 下标 张 小 图 的话 keys 就 输 数字 的 数组 点击 开始 按钮 的 时候 keys 随机 排序 然后 从小 图片 数组 中去 获取 对应 的 图片 对象 更新 其 显示 位置 这样 就可以 打乱 图片 了 选择 一个 小 图片 再次 点击 此 图片 会 取消 当前 选择 状态 再 选择 另一个 图片 将会 互相 交换 位置 每次 交换 位置 后会 对 数组 keys 和 origkeys 进行 比较 如果 两个 数组 结构 一样 则 表示 拼图 完成 drawimage 使用 可以 看这 篇文章 编写 imagedraw 构造 函数 图片 对象 imagedraw 构造 函数 oobj thisidthisimage 图片 对象 必填 thissx 图片 切片 开始 x 位置 显示 整个 图片 的 时候 不需要 填 thissy 图片 切片 开始 y 位置 显示 整个 图片 的 时候 不需要 填 thisswidth 图片 切片 开始 宽度 显示 整个 图片 的 时候 不需要 填 thissheight 图片 切片 开始 高度 显示 整个 图片 的 时候 不需要 填 thisdx 图片 目标 x 位置 必填 thisdy 图片 目标 y 位置 必填 thisdwidth 图片 目标 显示 宽度 宽度 不 缩放 时 不 必填 thisdheight 图片 目标 高度 高度 高度 不 缩放 时 不 必填 thisinit oobj oobj thislolobjfor varkeyino context draw contextthis functiondraw contextobj if objimagegettype objdx objdy undefined thrownewerror 绘制 图片 缺失 参数 objdxobjdy if gettype objsx objsy 裁剪 图片 显示 时候 有 缩放 ctxdrawimage elseif ctxdrawimage 原始 图片 显示 时候 有 缩放 objimage 原始 图片 显示 时候 无 缩放 ctxrestore pos 鼠标 位置 的 xy 要 分别 大于 dxdy 且 xy 要 分别 小于 表示 处于 当前 图片 对象 范围内 对 图片 进行 切片 用 大 图片 的 长 除以 列 数 用 大 图片 的 宽 除以 行数 分别 得到 小 图片 的 长 和 宽 用 双循环 初始化 小 图片 keys 存储 key 和 posarr 数组 存取 dxdy 打乱 的 时候 要用 对 图片 进行 切片 小 图片 的 宽 disythishcounty 小 图片 的 高 相关 数组 清空 处理 初始化 小 图片 对象 varxynfor variiltcountxi xidisxfor varjjltcountyj renderarrpush img imgkeyn 设置 key 值 imgkeyposn 设置 所 处于 的 位置 n thiskeyspush n thisposarrpush xxyy n 随机 排序 thiskeyssort function ab 随机 排序 gt 打乱 前 keys 是 这样 打乱 后 keys 是 这样 的 循环 小 图片 对象 的 时候 下标 是 这样 开始 的 那 第一次 取到 的 key 是 keys 数组 的 第一个 元素 用 再去 posarr 取到 第 个 元素 posarr 并把 这个 元素 的 dxdy 设置 给 当前 下标 为 的 小 图片 其他 一样 道理 这样 就 打乱 了 图片 varkeypos 排序 后 重新 更改 位置 达到 打乱 图片 的 效果 each itemindex if item 改变 dxdy 既可 看一下 效果 吧 给 canvas 添加 点击 事件 并 给 每个 小 图片 增加 判断 如果 点击 了 当前 小 图片 则 增加 一个 边框 表示 选中 rect 构造 函数 functionrect o thisxx 坐标 thisyy 坐标 thiswidth 宽 thisheight 高 thisthintrue 线段 薄 一点 thisinit o o for varkeyino context this obj ctxbeginpath ctxtranslate objxobjy if objlinewidth objthin ctxtranslate ctxrect if objfill 是否 填充 objfillstyle nullctxfill if objstroke 是否 描 边 objstrokestyle nullctxstroke ctxrestore returnthis 点击 后代 码 表示 第一次 选中 添加 一个 边框 用来 指示 被 选择 varrectnewrect rect 此时 效果 选中 另一个 图片 后 交换 位置 清空 选择 状态 及 指示 框 交换 两个 小 图片 对象 的 pos 和 key 值 交换 他们 在 keys 数组 中 的 值 判断 此时 keys 与 origkeys 是否 一致 如果 一致 则 表示 完成 将 已 选择 的 dxdy 拷贝 给 进行 位置 交换 清空 选择 状态 及 指示 框 位置 的 交换 交换 他们 在 thiskeys 中 的 位置 thiskeyssplice thiskeyssplice 如果 相等 表示 已经 找 好了 if thisdiff 每次 交换 完成 以后 都要 进行 一次 判断 看 是否 完成 拼图 settimeout function alert 恭喜 你 已 完成 consolelog 完 成了 最后 加上 图片 更换 和 难度 系数 的 代码 就 完 成了 box start jigsawinit boxstart functionup type difficultytype if el varvalelvalueif vallt valelvaluevalif typecol type difficultytype if el varvalelvalueif valgt valelvaluevalif typecol smallimg next onclickfunction d src if arrlengthgt indexarrif indexgt 全部 代码 下载 无需 积分 兄弟们 给 个 三连 吧 谢谢 拉 关注 下方 公众 号 有 更多 资料 实例 代码 面试 技巧 奉上 更多 源码 基于 canvas 的 手风琴 特效 附 源码 抖 音 很 火 的 华为 太空人 表盘 附 源码 基于 javascript 页面 动态 验证码 附 源码 基于 javascript 的 拖动 滑块 拼图 验证 附 源码 基于 javascript 的 幸运 大转盘 附 源码 抖 音 很 火 的 罗盘 时钟 附 源码 基于 javascript 的 俄罗斯方块 小游戏 附 源码 基于 javascript 的 贪吃蛇 游戏 附 源码 基于 javascript 的 拼图游戏 附 源码 用 javascript 给 女儿 做的 烟花 特效 附 源码 老父亲 给 女儿 做的 下雪 特效 满足 女儿 看 雪 的 愿望 附 源码 雷达 扫描 特效 附 源码 香港黄金 配角 吴孟达 去世 后 程序员 以 轮播 图 来 悼念 达 叔 达 叔 一路 走好 附 源码 仿 抖 音 刷新 进度条 附 源码 仿 头条 方形 刷新 进度条 附 源码 仿 加速 球 水波 评分 特效 附 源码 基于 canvas 的 刮刮卡 附 源码 原生 js 写 的 左侧 飞入 拼图 特效 你 是 喜欢 美女 单飞 还是 双飞 附 源码 用 js 写 的 旋转 木马 在 新年 献给 各位 刚 登基 的 皇帝 让 你 的 后宫 转起来 程序员 就是 可以 为所欲为 附 源码 用 js 写 的 轮播 图 八位 女明星 你 翻 谁 的 牌 程序员 就是 可以 为所欲为 附 源码 原生 js 实现 美女 拼图 把 美女 老婆 抱 回家 个 美女 够不够 程序员 就是 可以 为所欲为 附 源码 用 js 仿 探探 拖拽 卡片 的 效果 飞 卡片 的 效果 感觉 挺 酷 最后 有 美女 看 哦 附 源码 老婆 说 程序员 不懂 浪漫 程序员 默默 拿 起了 键盘 这就 亲手 带你 去看 流星雨 女人 真会 影响 拔刀 的 速度 附 源码 学生 成绩 管理 系统 有 源码 你 的 毕 设 我 的 心 附 源码 