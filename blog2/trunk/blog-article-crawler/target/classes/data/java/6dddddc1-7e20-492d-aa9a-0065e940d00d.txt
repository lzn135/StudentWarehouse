老婆 说 程序员 不懂 浪漫 程序员 默默 拿 起了 键盘 这就 亲手 带你 去看 流星雨 女人 真的 会 影响 男人 拔刀 的 速度 效果图 实现 思路 写 一个 流星 对象 定义 流星雨 functionfire thisxgetrandom canvaswidth 流星雨 的 x 坐标 thisy 流星雨 的 y 坐标 流星雨 的 半径 运行 的 速度 thisanglemathpi 发射 的 方向 thiscolorwhite 颜色 设定 颜色 mathrandom gt 来 设定 一部分 是 白色 的 剩下 的 是 彩色 的 gtwhite mathrandom tostring substr touppercase x 的 范围 是 到 画布 的 最大 宽度 这样 就可以 从左到右 出现 流星 了 y 固 定为 在 最上面 也 就是 空中 speed 是 流星 飞行 的 速度 angle 是 流星 飞行 的 方向 目前 固 定为 个 其实 可以 写成 可 传入 的 这样 就可以 朝 多个 方向 发 射了 new 的 时候 传 进来 然后 处理 一下 即可 我 这里 就不 做了 color 采 用了 白色 和 彩色 随机 出现 的 方式 给 流星 的 原型 增加 一个 绘制 方法 绘制 流星 ctxbeginpath ctxarc 画圆 ctxclosepath 给 流星 的 原型 增加 一个 更新 流星 的 位置 的 方法 更新 x 坐标 thisxmathcos thisangle thisspeed 更新 y 坐标 thisymathsin thisangle thisspeed 控制 飞行 的 最大 位置 if 达到 最大 位置 后 thisrestore 将 流星 重置 给 流星 的 原型 增加 一个 恢复 状态 的 方法 在 流星 运行 到 边界 后 重新 回到 天上 重置 流星雨 的 位置 参数 以便 再次 发射 thisxgetrandom canvaswidth thisy 创建 一个 数组 用于 存储 流星 组合 起来 就是 流星雨 了 目前 设 定为 颗 流星 创建 流星雨 对象 for variilti varfirenewfire 添加到 数组 中 arrpush fire 自动 执行 动画 函数 functionmove 执行 动画 函数 move clear 清理 画布 循环 存 流星雨 数组 arrforeach function c cdraw cupdate 清洗 画布 并 给 流星 加上 小尾巴 用到 rgba 这样 就可以 给 流星 留下 小尾巴 ctxfillrect 到 这里 就 已经 完 成了 完整 代码 canvas d vararr 存取 流星雨 的 数组 获取 一定 范围内 的 随机数 minmax maxmin min 定义 流星雨 functionfire thisxgetrandom canvaswidth 流星雨 的 x 坐标 thisy 流星雨 的 y 坐标 流星雨 的 半径 运行 的 速度 thisanglemathpi 发射 的 方向 thiscolorwhite 颜色 设定 颜色 mathrandom gt 来 设定 一部分 是 白色 的 剩下 的 是 彩色 的 gtwhite mathrandom tostring substr touppercase 绘制 流星 ctxbeginpath ctxarc 画圆 ctxclosepath 重置 流星雨 的 位置 参数 以便 再次 发射 thisxgetrandom canvaswidth thisy 更新 流星 的 位置 达到 运动 的 效果 更新 x 坐标 thisxmathcos thisangle thisspeed 更新 y 坐标 thisymathsin thisangle thisspeed 控制 飞行 的 最大 位置 if 达到 最大 位置 后 thisrestore 将 流星 重置 创建 流星雨 对象 for variilti varfirenewfire 添加到 数组 中 arrpush fire 清洗 画布 functionclear 用到 rgba 这样 就可以 给 流星 留下 小尾巴 ctxfillrect functionmove 执行 动画 函数 move clear 清理 画布 循环 存 流星雨 数组 arrforeach function c cdraw cupdate 兄弟们 给 个 三连 吧 