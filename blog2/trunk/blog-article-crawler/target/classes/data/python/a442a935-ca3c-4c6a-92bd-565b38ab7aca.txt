pyhon 大数 据分析 二 pyecharts 绘制 全国 各地区 某省 各城市 地图 及 可视化 分析 思来想去 虽然 很忙 但 还是 挤时间 针对 这次 yq 写个 python 大数 据分析 系列 博客 包括 网络 爬虫 可视化 分析 gis 地图 显示 情感 分析 舆情 分析 主题 挖掘 威胁 情报 溯源 知识 图谱 预测 预警 及 ai 和 nlp 应用 等 希望 该 系列 线上 远程教学 对 您 有所 帮助 加油 前文 分享 了 实时 数据 抓取 获取 全国各地 和 贵州省 各地区 的 实时 数据 并将 数据 存储 至 本地 最后 调用 maplotlib 和 seaborn 绘制 本文 将 结合 pyecharts 绘制地图 折线图 柱状图 希望 这篇 可视化 分析 文章 对 您 有所 帮助 也 非常感谢 参考文献 中 老师 的 分享 如果 您有 想 学习 的 知识 或 建议 可以 给 作者 留言 代码 下载 地址 下载 地址 文章 目录 一 数据 爬 取 及 pyecharts 绘制 折线 图二 pyecharts 绘制 全国 各地区 三 pyecharts 绘制 贵州省 地区 四 pyecharts 绘制 其他 图形 五 总结 同时 推荐 前面 作者 另外 五个 python 系列 文章 从 年 开始 作者 主要 写了 三个 python 系列 文章 分 别是 基础知识 网络 爬虫 和数 据分析 年 陆续 增加了 python 图像识别 和 python 人工智能 专栏 python 基础知识 系列 python 基础知识 学习 与 提升 python 网络 爬虫 系列 python 爬虫 之 数据 分析 系列 知识 图谱 web 数据 挖掘 及 nlppython 图像识别 系列 python 图像 处理 及 图像识别 python 人工智能 系列 python 人工智能 及 知识 图谱 实战 前文 阅读 pyhon 大数 据分析 一 实时 数据 爬 取 matplotlib 和 seaborn 可视化 分析 全国 各地区 某省 各城市 新增 趋势 一 数据 爬 取 及 pyecharts 绘制 折线图 前 一篇 文章 作者 详细 讲 解了 tx 新闻 实时 数据 抓取 过程 为了 更好 地 进行 可视化 分析 或 数据 分析 建议 读者 将 数据 存储 至 本地 或 数据库 中 这里 作者 直接 给出 网络 爬虫 代码 将 每日 数据 增长 情况 存储 至 本地 爬虫 目标 网站 推荐 参考 文章 pyhon 大数 据分析 一 实时 数据 爬 取 matplotlib 和 seaborn 可视化 分析 全国 各地区 某省 各城市 新增 趋势 python 实战 抓取 实时 数据 画 ncov 地图 许 老师 用 python 抓 数据 绘制 全国 分布图 shineych 老师 python 开发者 日 爬虫 框架 的 技术 实现 与 模块 应用 的 经验 分享 许 老师 第一步 分析 网站 通过 浏览器 审查 元素 查看 源代码 及 网络 反馈 的 消息 第二步 网络 爬虫 代码 通过 分析 url 地址 请求 方法 参数 及 响应 格式 可以 获取 json 数据 注意 url 需要 增加 一个时间 戳 同时 根据 不同 日期 将 数据 存储 至 本地 csv 文件 第一步 抓取 实时 json 数据 参考 文章 许 老师 博客 timetime datajsonloads requestsget urlurl json data datasort keylambdaxxdate datelistlist 日期 confirmlistlist 确诊 suspectlistlist 疑似 deadlistlist 死亡 heallistlist 治愈 datelistappend ss monthday ymd int itemconfirm int itemsuspect deadlistappend int itemdead heallistappend int itemheal 第二步 存储 数据 至 csv 文件 defloadcsv 获取 数据 print datelist 日期 print confirmlist 确诊 数据 print suspectlist 疑似 数据 print deadlist 死亡 数据 print heallist 治愈 数据 获取 当前 日期 命名 dailycsv ntimestrftime ymd dailycsvfwopen nwencodingutf fwwrite iwhileiltlen datelist datestr ymd fwwrite datestr confirmlisti str suspectlisti str deadlisti str heallisti n iielseprint overwritefile fwclose 主 函数 输出 结果 如 下图 所示 可以 看到 将 月 日至 月 日 的 数据 抓取 至 本地 第三步 安装 pyecharts 扩展 包 前端 或 网站 开发 的 博 友 可能 都使 用过 强大 的 echarts 技术 echarts 是 一个 纯 javascript 的 图表 库 可以 流畅 的 运 行在 pc 和 移动 设备 上 兼容 当前 绝大部分 浏览器 底层 依赖 轻量级 的 canvas 类 库 zrender 提供 直观 生动 可 交互 可 高度 个性化 定制 的 数据 可视化 图表 echarts 提供 了 常规 的 折线图 柱状图 散点图 饼 图 k 线图 用于 统计 的 盒 形 图 用于 地理 数据 可视化 的 地图 热力 图 线图 用于 关系 数据 可视化 的 关系 图 treemap 多维 数据 可视化 的 平行坐标 还有 用于 bi 的 漏斗 图 仪表盘 并且 支持 图 与 图 之间 的 混 搭 下图 是 echarts 简单 绘制 折线图 的 示例 左边 是 脚本 代码 右边 是 显示 图形 非常 美观 既然 echarts 这么 好用 python 也有 相应 的 第三方 扩展 包 支持 它 就是 这篇 文章 讲解 的 pyecharts 库 pyecharts 是 一个 用于 生成 echarts 图表 的 类 库 即 echarts 与 python 的 对接 并 推荐 大家 结合 django 或 flask 使用 接下来 我们 通过 安装 扩展 包 再 调用 pyecharts 绘制 柱状图 推荐 作者 前文 echarts 可视化 一 入门篇 之 简单 绘制 中国地图 和 贵州 地区 python 可视化 pyecharts 安装 入门 及 绘制 中国 贵州 地图 第四步 调用 pyecharts 绘制 柱状图 第一步 读取 数据 ntimestrftime ymd n datelistlist datadate confirmlistlist dataconfirm suspectlistlist datasuspect deadlistlist datadead heallistlist dataheal print datelist 日期 print confirmlist 确诊 数据 print suspectlist 疑似 数据 print deadlist 死亡 数据 print heallist 治愈 数据 第二步 绘制 折线图 line line addxaxis datelist addyaxis 确诊 数据 confirmlist addyaxis 疑似 数据 平滑 addyaxis 死亡 数据 deadlist addyaxis 治愈 数据 heallist 隐藏 数字 setseriesopts isshowfalse 设置 x 轴 标签 旋转 角度 setglobalopts rotate name 人数 min titlencov 曲线图 linerender ncov 曲线图 html 输出 结果 如 下图 所示 隐藏 了 所 有点 对应 的 数字 否则 整体 效果 比较 乱 同时 当 点击 某个 点 能 看到 具体 的 数值 比 如月 日 全国 总 治愈 人数 为 第五步 绘制 折线 面积 图 及 平均 曲线 第一步 读取 数据 ntimestrftime ymd n datelistlist datadate confirmlistlist dataconfirm suspectlistlist datasuspect deadlistlist datadead heallistlist dataheal print datelist 日期 print confirmlist 确诊 数据 print suspectlist 疑似 数据 print deadlist 死亡 数据 print heallist 治愈 数据 第二步 绘制 折线 面积 图 line line addxaxis datelist addyaxis 确诊 数据 typeaverage addyaxis 疑似 数据 typeaverage addyaxis 死亡 数据 typeaverage addyaxis 治愈 数据 typeaverage 隐藏 数字 设置 面积 setseriesopts opacity isshowfalse 设置 x 轴 标签 旋转 角度 setglobalopts rotate name 人数 min titlencov 曲线图 linerender ncov 曲线图 html 输出 结果 如 下图 所示 可以 看到 确诊 数据 疑似 数据 死亡 数据 和 治愈 数据 的 面积 及 平均 曲线 第六步 增加 最大值 和 最小值 第一步 读取 数据 ntimestrftime ymd n datelistlist datadate confirmlistlist dataconfirm suspectlistlist datasuspect deadlistlist datadead heallistlist dataheal print datelist 日期 print confirmlist 确诊 数据 print suspectlist 疑似 数据 print deadlist 死亡 数据 print heallist 治愈 数据 第二步 绘制 折线 面积 图 line line addxaxis datelist 平均线 最大值 最小值 addyaxis 确诊 数据 typeaverage typemax typemin addyaxis 疑似 数据 typeaverage typemax typemin addyaxis 死亡 数据 typeaverage typemax typemin addyaxis 治愈 数据 typeaverage typemax typemin 隐藏 数字 设置 面积 setseriesopts opacity isshowfalse 设置 x 轴 标签 旋转 角度 setglobalopts rotate name 人数 min titlencov 曲线图 linerender ncov 曲线图 html 输出 结果 如 下图 所示 二 pyecharts 绘制 全国 各地区 第一步 下载 数据 如何 获取 全国各地 数据 推荐 大家 阅 读上 一篇 文章 codingutf 第一步 抓取 数据 抓取 实时 json 数据 timetime datajsonloads requestsget urlurl json data print data print datakeys 统计 省份 信息 个 省份 湖北 广东 河南 浙江 湖南 安徽 len num itemnameend 不 换行 elseprint n 换行 显示 湖北省 数据 item elseprint n 解析 确诊 数据 itemname print totaldata 湖北 广东 河南 浙江 湖南 澳门 西藏 解析 疑似 数据 itemname print 解析 死亡 数据 itemname print totaldeaddata 解析 治愈 数据 itemname print totalhealdata 解析 新增 确诊 数据 itemname todayprint totalnewdata 第二步 存储 数据 至 csv 文件 nameslist totaldatakeys 省份 名称 numlist totaldatavalues 确诊 数据 numlist 疑似 数据 全为 numlist 死亡 数据 numlist 治愈 数据 numlist 新增 确诊 病例 print names print num print num print num print num print num 获取 当前 日期 命名 allcsv ntimestrftime ymd chinacsvfwopen nwencodingutf fwwrite iwhileiltlen names fwwrite namesistr numi str numi str numi str numi n iielseprint overwritefile fwclose 下载 数据 如 下图 所示 第二步 绘制地图 第一步 读取 数据 ntimestrftime ymd n listdatazip list dataprovince list dataconfirm print listdata 湖北 广东 河南 浙江 澳门 西藏 第二步 绘制 全国 地图 参考 文章 大神 gtmapc map add 中国 listdatachina setglobalopts title 全国 地图 确诊 数 是否 为 分段 型 不 指定 render 全国 地图 html 输出 结果 如 下图 所示 三 pyecharts 绘制 贵州省 地区 第一步 下载 数据 第一步 抓取 数据 抓取 实时 json 数据 timetime datajsonloads requestsget urlurl json data print data print datakeys 统计 省份 信息 个 省份 湖北 广东 河南 浙江 湖南 安徽 len num 获取 贵州 下标 itemnameend 不 换行 ifitemnamein 贵州 print print itemnamek breakkkprint 换行 显示 贵州省 数据 item elseprint n 第二步 解析 数据 解析 确诊 数据 itemname 确诊 人数 print totaldata 贵阳 遵义 毕节 黔南州 六盘水 铜仁 黔东南州 黔西南州 安顺 解析 疑似 数据 itemname 疑似 人数 print 解析 死亡 数据 itemname 死亡 人数 print totaldeaddata 解析 治愈 数据 itemname 治愈 人数 print totalhealdata 解析 新增 确诊 数据 itemname 新增 确诊 人数 print totalnewdata 第三步 存储 数据 至 csv 文件 nameslist totaldatakeys 省份 名称 numlist totaldatavalues 确诊 数据 numlist 疑似 数据 全为 numlist 死亡 数据 numlist 治愈 数据 numlist 新增 确诊 病例 print names print num print num print num print num print num 获取 当前 日期 命名 gzcsv ntimestrftime ymd gzcsvfwopen nwencodingutf fwwrite iwhileiltlen names fwwrite namesistr numi str numi str numi str numi n iielseprint overwritefile fwclose 第二步 绘制地图 第一步 读取 数据 ntimestrftime ymd n list dataprovince list dataconfirm gzdatalist listdataguizhou print gzdata abtype b 第二步 绘制 贵州 地图 gtmapc map add 贵州省 gzdata 贵州 setseriesopts 例 setglobalopts title 贵州省 地图 确诊 数 是否 为 分段 型 无 确诊 病例 colorgreen render 贵州省 地图 html 输出 结果 如 下图 所示 注意 读者 可能会 绘制 图形 无数据 如 下图 所示 显示 nan 这是 因为 我们 需要 补充 城市 的 完整 称呼 比如 贵阳市 黔东南苗族侗族自治州 等第 三步 绘制 柱状图 第一步 读取 数据 ntimestrftime ymd n dataprovince confirmlistlist dataconfirm deadlistlist datadead heallistlist dataheal datanewconfirm print provincelist 地区 print confirmlist 确诊 数据 print deadlist 死亡 数据 print heallist 治愈 数据 print newconfirmlist 新增 确诊 第二步 绘制 贵州 柱状图 bar bar addxaxis provincelist addyaxis 确诊 数据 confirmlist addyaxis 死亡 数据 deadlist addyaxis 治愈 数据 heallist addyaxis 新增 确诊 newconfirmlist setglobalopts title 贵州 数据 subtitle 人数 barrender 贵州省 html 输出 结果 如 下图 所示 四 pyecharts 绘制 其他 图形 更多 图形 推荐 读者 结合 自己 的 项目 或 论文 进行 实践 这里 不再 详细 补充 后续 作者 可能 也 会 分享 相关 知识 比如 我们 可以 对 数据 进行 简单 预处理 再 进行 可视化 分析 codingut 第一步 读取 数据 ntimestrftime ymd n dataprovince confirmlistlist dataconfirm deadlistlist datadead heallistlist dataheal datanewconfirm print provincelist 地区 print confirmlist 确诊 数据 print deadlist 死亡 数据 print heallist 治愈 数据 print newconfirmlist 新增 确诊 第二步 绘制 全国 箱 图 bar bar addxaxis provincelist addyaxis 确诊 数据 confirmlist addyaxis 死亡 数据 deadlist addyaxis 治愈 数据 heallist addyaxis 新增 确诊 newconfirmlist setglobalopts title 全国 数据 subtitle 人数 barrender 全国 柱状图 html 五 总结 写到 这里 第二篇 yq 分析 的 文章 就 讲解 完毕 希望 对 您 有所 帮助 主要 包括 两部分 内容 实时 数据 爬 取 pyecharts 可视化 分析 中国地图 绘制 贵州省 地图 绘制 柱状图 及 折线图 后续 还会 分享 gis 地图 显示 情感 分析 舆情 分析 主题 挖掘 威胁 情报 溯源 知识 图谱 预测 预警 及 ai 和 nlp 应用 等 如果 文章 对 您 有所 帮助 将是 我 写作 的 最大 动力 作者 将 源代码 上传 至 github 大家 可以 直接 下载 同时 向 钟 院士 致敬 向 一线 工作者 致敬 侠之大者 为国为民 咱们 中国人 一生 的 最高 追求 为 天地 立 心 为 生民 立 命为 往 圣 继 绝学 为 万世 开 太平 以 一人 之 力系 万民 康乐 以 一身 犯 险 保 大业 安全 他们 真是 做 到了 武汉 加油 中国 加油 byeastmount 晚 上点 夜 于 贵阳 参考文献 python 可视化 pyecharts 安装 入门 及 绘制 中国 贵州 地图 杨 秀 璋 echarts 可视化 一 入门篇 之 简单 绘制 中国地图 和 贵州 地区 杨 秀 璋 大数 据分析 一 实时 数据 爬 取 matplotlib 和 seaborn 可视化 分析 全国 各地区 某省 各城市 新增 趋势 python 实战 抓取 实时 数据 画 ncov 地图 许 老师 用 python 抓取 数据 绘制 全国 分布图 shineych 老师 python 开发者 日 爬虫 框架 的 技术 实现 与 模块 应用 的 经验 分享 许 老师 用 绘制 图形 二 折线图 折线 面积 图 散点图 雷达 图 箱 线图 词 云图 shineych 老师 pyechartsv 版本 学习 笔记 折线图 面积 图 baililuoyun 