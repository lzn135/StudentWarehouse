使用 docker 部署 redis docker 部署 redis 拉 取 镜像 安装 镜像 普通 启动 数据 持久 化 存 方式 启动 配置文件 方式 启动 客户端 查看 redis 命令 拉 取 镜像 下载 镜像 dockerpullredis 查看 下载 dockerimages 安装 镜像 普通 启动 数据 持久 化 存 方式 启动 命令 说明 p 将 容器 的 端口映射 到 主机 的 端口 vpwddatadata 将 主机 中 当前 目 录下 的 data 挂 载到 容器 的 在 容器 执行 redisserver 启动 命令 并 打开 redis 持久 化 配置 配置文件 方式 启动 创建 配置文件 目录 存放 redisconf 拷贝 下面 内容 配置文件 内容 放 到了 文件 的 末尾 创建 文件夹 新建 配置文件 贴入 从 官 网 下载 的 配置文件 并 修改 修改 启动 默认 配置 从 上至 下 依次 bind 注释 掉 这 部分 这是 限制 redis 只能 本地 访问 protectedmodeno 默认 yes 开启 保护模式 限 制为 本地 访问 daemonizeno 默认 no 改为 yes 意为 以 守护 进程 方式 启动 可 后台 运行 除非 kill 进程 改为 yes 会使 配置文件 方式 启动 redis 失败 databases 数据库 个数 可选 我 修 改了 这个 只是 查看 是否 生效 dir 输入 本地 redis 数据库 存放 文件夹 可选 持久 化 可选 docker 启动 redis 命令 命令 解释 说明 p 端口映射 前 表示 主机 部分 后 表示 容器 部分 namemyredis 指定 该 容器 名称 查看 和 进行 操作 都 比较 方便 v 挂载 目录 规则 与 端口映射 相同 为什么 需要 挂载 目录 个人认为 docker 是 个 沙箱 隔离 级别 的 容器 这个 是 它 的 特点 及 安全 机制 不能 随便 访问 外部 主机 资源 目录 所以 需要 这个 挂载 目录 机制 dredis 表示 后台 启动 以 配置文件 启动 redis 加载 容器 内 的 conf 文件 最终 找到 的 是 挂载 的 目录 开启 redis 持久 化 客户端 查看 redis 命令 本地 访问 rdedis 方式 容器 id 配置 成 自己 的 就可以 注意 这个 是 容器 运行 的 ip 可通过 查看 远程 访问 redis 方式 如果有 密码 使用 a 参数 redisconf 配置文件 iana todisable detectdeadpeers inseconds verbose notice warning min min inahardway around receivewrites exactcopy thedefault inseconds largebandwidth datapings featuredisabled nat minorttl oro logn evenseconds nonblockingdel thedefaultnow nontypespecific eevictedevents kbsize or kbsize n seedictc continuously inapushway online 