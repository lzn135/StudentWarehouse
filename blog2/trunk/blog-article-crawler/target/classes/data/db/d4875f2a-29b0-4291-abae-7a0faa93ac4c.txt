mysql 5.7 vs 8.0 你 选 那个 网友 我 继续 原地踏步 作者 jiaxin 出处 背景 测试 mysql 和 mysql 分别 在 读写 只读 只 写 模式 下 不同 并发 时 的 性能 tpsqps 前提 测试 使用 版本 为 mysql 和 mysqlsysbench 测试 前先 重启 mysql 服务 并 清空 os 的 cache 避免 多次 测试 时 命中 缓存 每次 进行 测试 都是 新 生成 测试数据 后 再 进行 mysql 和 mysql 的 测试 每次 测试 时 保证 mysql 和 mysql 的 配置 参数 一致 环境 机器 版本 是否 虚拟 化 核 数 版本 core 是否 虚拟 化 kvmcpu 核 数 测试 在 不同 的 持久 化 策略 下 binlogredolog 持久 化 mysql 和 mysql 在 读写 模式 只读 模式 只 写 模式 下 的 性能 表现 sysbench 测试 时间 为 s 测试 的 表 数量 为 测试 分 别在 双模式 安全性 和 模式 高性能 下 进行 双模式 下 和 mysql 在 读写 模式 下 的 表现 读写 模式 下 mysql 和 mysqltpsqps 性能 差不多 mysql 在 线程 并发 时 性能 出现 了 下降 抖动 mysql 和 mysql 在 只读 模式 下 的 表现 只读 模式 下 mysql 的 tpsqps 比 mysql 好 左右 并发 线程 数 增加 后 tpsqps 并没有 随着 增加 反而 出现 了 下降 的 趋势 mysql 和 mysql 在 只 写 模式 下 的 表现 只 写 模式 下 随着 并发 数 的 上升 mysql 的 性能比 mysql 好 左右 模式 下 和 mysql 在 读写 模式 下 的 表现 读写 模式 下 并发 数 低 时 mysql 性能 好于 mysql 并发 数 比 较高 时 mysql 性能 好于 mysql 在 线程 的 并发 以上 时 性能 开始 下降 mysql 和 mysql 在 只读 模式 下 的 表现 只读 模式 下 mysql 性能比 mysql 好 左右 随着 并发 数 的 上升 性能 也没有 上升 反而 有 下降 的 趋势 mysql 和 mysql 在 只 写 模式 下 的 表现 只 写 模式 下 mysql 的 tps 抖动 比 较大 mysql 的 qps 比 mysql 好 左右 结论 整体 来看 mysql 在 读写 模式 只读 模式 只 写 模式 下 的 表 现是 优于 mysql 的 随着 并 行数 的 增加 性能 表现 不会 也 跟着 增加 还会 出现 下降 本次 测试 结果是 在 配置 很低 的 情况下 进行 的 不 代表 绝对 注意 sysbench 需要 设置 dbpsmodedisable 禁用 预 编译 语句 不然 并发 测试 线程 多时 会报 下面 的 错误 currentvalue currentvalue currentvalue failed 使用 脚本 用于 sysbench 测试 在 读写 模式 只读 模式 只 写 模式 下 mysql 和 mysql 的 localwhatechoe dateft 最后 推荐给 大家 一个 有趣 有料 的 公众 号 写 代码 的 渣 渣 鹏 年老 程序员 教你 写 bug 扫描 关注 