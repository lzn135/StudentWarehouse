mysql 清理 binlog 日志 的 方法 mysql 的 binlog 日志 介绍 binlog 是 mysql 以 二进制 形式 打印 的 日志 它 默认 不 加密 不 压缩 binlog 二进制 日志 包 含了 所有 更新 了 数据 或者 已经 潜在 更新 了 数据 例如 没有 匹配 任何 行 的 一个 delete 的 所有 语句 语句 以 事件 的 形式 保存 它 描述 数据 更改 文件 位置 和 格式 当用 logbinfilename 选项 启动时 mysqld 写入 包含 所有 更新 数据 的 sql 命令 的 日志 文件 如果 未 给出 filename 值 默认 名为 bin 后面 所 跟 的 主机名 如果 给 出了 文件名 但 没有 包含 路径 则 文件 被 写入 数据 目录 删除 mysql 的 binlog 日志 有 两种 方法 自动 删除 和 手动 删除 自动 删除 永久 生效 修改 mysql 的 配置文件 mycnf 添加 binlog 过期 时间 的 配置 项 expirelogsdays 然后 重启 mysql 这个 有 个 致命 的 缺点 就是 需要 重启 mysql 临时 生效 进入 mysql 用 以下 命令 设置 全局 的 参数 上面 的 数字 是 保留 天 的 意思 手动 删除 可以 直接 删除 binlog 文件 但是 可以 通过 mysql 提供 的 工具 来 删除 更 安全 因为 purge 会 更新 mysqlbinindex 中 的 条目 而 直接 删除 的话 mysqlbinindex 文件 不会 更新 mysqlbinindex 的 作 用是 加快 查找 binlog 文件 的 速度 直接 删除 未 亲 测 使用 找到 binlog 所在 目 录用 rmbinglog 名 直接 删除 例 rmmysqlbin 通过 mysql 提供 的 工具 来 删除 亲 测 使 用过 删除 之前 可以 先看 一下 purge 的 用法 helppurge 命令 查看 binlog 文件 showbinarylogs 删除 举例 resetmaster 删除 所有 binlog 日志 新 日志 编号 从头开始 删除 mysqlbin 之前 所有 日志 删除 之前 产生 的 所有 日志 